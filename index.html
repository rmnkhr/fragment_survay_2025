<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ü–æ—Ä—Ç—Ä–µ—Ç Android-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ 2025</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <style>
    :root {
      --bg-color: #ffffff;
      --text-color: #333333;
      --card-bg: #f5f5f5;
      --card-border: #e0e0e0;
      --accent-color: #4285f4; /* Google Blue */
      --accent-color-darker: #3367d6;
      --chart-grid: #e0e0e0;
      --error-color: #e53935;
      --success-color: #43a047; /* Green for satisfaction */
      --warning-color: #fdd835; /* Yellow for partial satisfaction/dissatisfaction */
      --palette-1: #4285f4; /* Blue */
      --palette-2: #ea4335; /* Red */
      --palette-3: #fbbc05; /* Yellow */
      --palette-4: #34a853; /* Green */
      --palette-5: #ff6d00; /* Orange */
      --palette-6: #1a73e8; /* Darker Blue */
    }
    
    [data-theme="dark"] {
      --bg-color: #121212;
      --text-color: #f0f0f0;
      --card-bg: #1e1e1e;
      --card-border: #333333;
      --accent-color: #8ab4f8; /* Lighter Blue */
      --accent-color-darker: #aecbfa;
      --chart-grid: #444444;
      --error-color: #ff6b6b;
      --success-color: #81c784; /* Lighter Green */
      --warning-color: #fff176; /* Lighter Yellow */
      --palette-1: #8ab4f8; /* Lighter Blue */
      --palette-2: #f28b82; /* Lighter Red */
      --palette-3: #fdd663; /* Lighter Yellow */
      --palette-4: #81c784; /* Lighter Green */
      --palette-5: #fdab67; /* Lighter Orange */
      --palette-6: #aecbfa; /* Lighter Darker Blue */
    }
    
    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
      margin: 0;
      padding: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    header {
      text-align: center;
      margin-bottom: 3rem;
      padding-bottom: 1.5rem;
      border-bottom: 3px solid var(--accent-color);
    }
    
    h1 {
      font-size: 2.8rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--accent-color);
    }
    
    .subtitle {
      font-size: 1.3rem;
      opacity: 0.8;
      margin-bottom: 1rem;
    }
    
    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      padding: 0.6rem 1.2rem;
      background: var(--accent-color);
      color: white; /* Always white for better contrast on button */
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
      font-size: 0.9rem;
      z-index: 1000;
    }
    
    .theme-toggle:hover {
      background-color: var(--accent-color-darker);
      transform: scale(1.05);
    }

    .loading {
      display: none; /* Initially hidden, shown during processing */
      text-align: center;
      margin: 3rem 0;
      font-size: 1.2rem;
    }
    
    .spinner {
      display: inline-block;
      width: 50px;
      height: 50px;
      border: 5px solid var(--card-bg);
      border-top: 5px solid var(--accent-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .error-message {
      display: none;
      background-color: var(--error-color);
      color: white;
      padding: 1.2rem;
      border-radius: 8px;
      margin: 2rem 0;
      text-align: center;
      font-weight: 500;
    }
    
    .dashboard {
      display: grid;
      /* Use auto-fit to make it responsive */
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 1.8rem;
      opacity: 0; /* Start hidden */
      transition: opacity 0.5s ease-in-out;
    }

    .dashboard.visible {
        opacity: 1;
    }
    
    .card {
      background-color: var(--card-bg);
      border-radius: 12px;
      padding: 1.8rem;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid var(--card-border);
      display: flex;
      flex-direction: column;
    }
    
    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
    }
    
    .card h2 {
        font-size: 1.4rem;
        margin-top: 0;
        margin-bottom: 1.5rem;
        color: var(--accent-color);
        border-bottom: 1px solid var(--card-border);
        padding-bottom: 0.8rem;
    }
    
    /* Specific card spanning */
     .card-full {
        grid-column: 1 / -1; /* Span full width */
    }

    @media (min-width: 1100px) { /* Adjust breakpoint as needed */
      .card-span-2 {
        grid-column: span 2;
      }
    }

    .chart-container {
      position: relative;
      height: 300px; /* Default height */
      width: 100%;
      margin-bottom: 1rem;
      flex-grow: 1; /* Allow chart container to grow */
    }

    .correlation-chart-container {
        height: 350px;
    }
    
    .insights {
      margin-top: 1.5rem;
      padding-top: 1rem;
      border-top: 1px dashed var(--card-border);
    }
    
    .insights-title {
      color: var(--accent-color);
      margin-bottom: 0.8rem;
      font-size: 1.1rem;
      font-weight: 600;
    }
    
    .insights-list {
      list-style-type: none;
      padding-left: 0;
      margin: 0;
      font-size: 0.95rem;
    }
    
    .insights-list li {
      margin-bottom: 0.6rem;
      display: flex;
      align-items: flex-start; /* Align icon with first line */
    }
    
    .insights-list li::before {
      content: "üí°"; /* Using an emoji */
      margin-right: 0.6rem;
      font-size: 1rem;
      line-height: 1.4; /* Align emoji better */
    }
    
    footer {
      margin-top: 3rem;
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.7;
      padding-top: 1.5rem;
      border-top: 1px solid var(--card-border);
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .dashboard {
        grid-template-columns: 1fr; /* Single column on smaller screens */
      }
       .card-full, .card-span-2 {
        grid-column: span 1; /* Override spanning on small screens */
      }
      .container {
        padding: 1rem;
      }
      h1 {
          font-size: 2.2rem;
      }
      .subtitle {
          font-size: 1.1rem;
      }
      .card {
          padding: 1.2rem;
      }
      .card h2 {
          font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()">üåì –ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É</button>
  
  <div class="container">
    <header>
      <h1>–ü–æ—Ä—Ç—Ä–µ—Ç Android-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞ 2025</h1>
      <p class="subtitle">–ê–Ω–∞–ª—ñ–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∑ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤</p>
      <p><span id="respondentCount">--</span> —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤</p>
    </header>
        
    <div class="error-message" id="errorMessage"></div>
    
    <div class="loading" id="loading">
      <div class="spinner"></div>
      <p>–ê–Ω–∞–ª—ñ–∑—É—î–º–æ –¥–∞–Ω—ñ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è...</p>
    </div>
    
    <div class="dashboard" id="dashboard">
      <!-- Row 1 -->
      <div class="card">
        <h2>–†–æ–∑–ø–æ–¥—ñ–ª –∑–∞ –¥–æ—Å–≤—ñ–¥–æ–º</h2>
        <div class="chart-container">
          <canvas id="experienceChart"></canvas>
        </div>
        <div class="insights">
          <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
          <ul class="insights-list" id="experienceInsights"></ul>
        </div>
      </div>
      
      <div class="card">
        <h2>–†–æ–∑–ø–æ–¥—ñ–ª –∑–∞—Ä–ø–ª–∞—Ç ($)</h2>
        <div class="chart-container">
          <canvas id="salaryChart"></canvas>
        </div>
        <div class="insights">
          <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
          <ul class="insights-list" id="salaryInsights"></ul>
        </div>
      </div>

      <!-- Row 2 -->
      <div class="card card-full">
        <h2>–ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ú–µ–¥—ñ–∞–Ω–Ω–æ—ó –ó–∞—Ä–ø–ª–∞—Ç–∏ –≤—ñ–¥ –î–æ—Å–≤—ñ–¥—É</h2>
        <div class="chart-container correlation-chart-container">
          <canvas id="correlationChart"></canvas>
        </div>
        <div class="insights">
          <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
          <ul class="insights-list" id="correlationInsights"></ul>
        </div>
      </div>
      
      <!-- Row 3 -->
      <div class="card">
        <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ñ UI –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</h2>
        <div class="chart-container">
          <canvas id="techChart"></canvas>
        </div>
        <div class="insights">
          <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
          <ul class="insights-list" id="techInsights"></ul>
        </div>
      </div>

      <div class="card">
          <h2>–ó–∞–¥–æ–≤–æ–ª–µ–Ω—ñ—Å—Ç—å –†–æ–±–æ—Ç–æ—é/–ó–ü</h2>
          <div class="chart-container">
            <canvas id="satisfactionChart"></canvas>
          </div>
          <div class="insights">
              <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
              <ul class="insights-list" id="satisfactionInsights"></ul>
          </div>
      </div>

       <!-- Row 4 -->
      <div class="card">
          <h2>–°—Ñ–µ—Ä–∏ –†–æ–±–æ—Ç–∏</h2>
          <div class="chart-container">
              <canvas id="workSphereChart"></canvas>
          </div>
          <div class="insights">
              <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
              <ul class="insights-list" id="workSphereInsights"></ul>
          </div>
      </div>
      
      <div class="card">
          <h2>OS –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏</h2>
          <div class="chart-container">
              <canvas id="osChart"></canvas>
          </div>
          <div class="insights">
              <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
              <ul class="insights-list" id="osInsights"></ul>
          </div>
      </div>

      <!-- Row 5 -->
       <div class="card">
        <h2>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –®–Ü</h2>
        <div class="chart-container">
          <canvas id="aiUsageChart"></canvas>
        </div>
        <div class="insights">
          <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
          <ul class="insights-list" id="aiUsageInsights"></ul>
        </div>
      </div>
      
      <div class="card">
        <h2>–û—Å–Ω–æ–≤–Ω–∏–π –î–µ–≤–∞–π—Å</h2>
        <div class="chart-container">
          <canvas id="deviceChart"></canvas>
        </div>
        <div class="insights">
          <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
          <ul class="insights-list" id="deviceInsights"></ul>
        </div>
      </div>

      <!-- Row 6 -->
      <div class="card card-full">
        <h2>–Ø–∫ –ù–∞–≤—á–∞–ª–∏—Å—è –ö–æ–¥–∏—Ç–∏</h2>
        <div class="chart-container" style="height: 350px;"> <!-- Taller for potentially many bars -->
          <canvas id="learningMethodChart"></canvas>
        </div>
        <div class="insights">
          <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
          <ul class="insights-list" id="learningMethodInsights"></ul>
        </div>
      </div>

    </div> <!-- End Dashboard -->
    
    <footer>
      <p>¬© 2025 –û–ø–∏—Ç—É–≤–∞–Ω–Ω—è Android-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ | –ê–Ω–∞–ª—ñ–∑ –¥–∞–Ω–∏—Ö —Å—Ç–∞–Ω–æ–º –Ω–∞ –∫–≤—ñ—Ç–µ–Ω—å 2025</p>
    </footer>
  </div>

      <!-- Row 7 (New Blocks) -->
      <div class="card">
          <h2>–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü –∑–∞ –û—Å–Ω–æ–≤–Ω–∏–º –î–µ–≤–∞–π—Å–æ–º</h2>
          <div class="chart-container">
              <canvas id="salaryByDeviceChart"></canvas>
          </div>
          <div class="insights">
              <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
              <ul class="insights-list" id="salaryByDeviceInsights"></ul>
          </div>
      </div>

      <div class="card">
          <h2>–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü –∑–∞ –†—ñ–≤–Ω–µ–º –ó–∞–¥–æ–≤–æ–ª–µ–Ω–æ—Å—Ç—ñ</h2>
          <div class="chart-container">
              <canvas id="salaryBySatisfactionChart"></canvas>
          </div>
          <div class="insights">
              <h3 class="insights-title">–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏</h3>
              <ul class="insights-list" id="salaryBySatisfactionInsights"></ul>
          </div>
      </div>

  <!-- Embed CSV Data -->
  <script id="csvDataScript" type="text/csv">
Timestamp,–î–æ—Å–≤—ñ–¥,–£ —è–∫—ñ–π —Å—Ñ–µ—Ä—ñ —Ç–∏ –ø—Ä–∞—Ü—é—î—à?,–ó —Ü–∏–º –ø—Ä–∞—Ü—é—î–º–æ –∑–∞—Ä–∞–∑ (–í –æ—Å–Ω–æ–≤–Ω–æ–º—É –∞–±–æ –±—ñ–ª—å—à—ñ—Å—Ç—å —á–∞—Å—É),–ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –≥—Ä–æ—à—ñ (–í –¥–æ–ª—è—Ä–∞—Ö),OS –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏,–®—Ç—É—á–∫–∞ —ñ–Ω—Ç–µ–ª–µ–∫—Ç,–ß–∏ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π —Ç–∏ —Å–≤–æ—î—é –∑–∞—Ä–ø–ª–∞—Ç–æ—é —ñ –∫–æ–º–ø–∞–Ω—ñ—î—é –∑–∞—Ä–∞–∑?,–Ø–∫ –≤–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è –∫–æ–¥–∏—Ç–∏?,–ú—ñ–π –æ—Å–Ω–æ–≤–Ω–∏–π –¥–µ–≤–∞–π—Å
04/04/2025 18:25:28,8+ —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,>10_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–£–Ω—ñ–≤–µ—Ä,
04/04/2025 18:41:24,1..2 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=3_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:41:55,> 0 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=1_000,Windown,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:42:03,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=10_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",IPhone
04/04/2025 18:42:09,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",IPhone
04/04/2025 18:42:34,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML + Compose,<=3_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:43:02,> 0 —Ä–æ–∫–∏,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Kotlin Multiplatform (KMP),<=500,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è —Ä–æ–±–æ—Ç–∞, —è–∫—É —Ä–æ–±–ª—é","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:43:26,> 0 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Kotlin Multiplatform (KMP),<=1_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:43:58,1..2 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=3_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:44:06,8+ —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=5_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:44:22,8+ —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=10_000,MacOS,–•–µ–π—Ç–µ—Ä,–¢–∞–∫,–°–∞–º,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:45:19,1..2 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=500,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:45:48,> 0 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=1_000,Windown,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è —Ä–æ–±–æ—Ç–∞, —è–∫—É —Ä–æ–±–ª—é","–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:46:15,8+ —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=10_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 18:47:07,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=5_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏",IPhone
04/04/2025 18:49:57,8+ —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:03:24,3..5 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=3_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:07:12,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,XML UI,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Linux,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:08:41,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube, –ª—é–¥–∏, —è–∫–∏—Ö –∑—É—Å—Ç—Ä—ñ–≤ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∏—Ö –ø–æ–¥—ñ—è—Ö –ø–æ –ê–Ω–¥—Ä–æ—ñ–¥",IPhone
04/04/2025 19:12:47,1..2 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=1_000,Windown,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:14:10,3..5 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=5_000,Windown,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:16:01,2..3 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=10_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:17:32,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=5_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–°–∞–º,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:19:30,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=10_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–°–∞–º,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:37:18,8+ —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=10_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:40:33,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Windown,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è —Ä–æ–±–æ—Ç–∞, —è–∫—É —Ä–æ–±–ª—é","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",IPhone
04/04/2025 19:41:00,2..3 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,"C++, Java",<=10_000,Windown,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 19:51:05,3..5 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=3_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 20:16:53,2..3 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=3_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–ö—É—Ä—Å–∏,IPhone
04/04/2025 20:37:18,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Linux,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø",–£–Ω—ñ–≤–µ—Ä,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 20:39:42,2..3 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=3_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞",–°–∞–º,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 21:20:06,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,Linux,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 21:42:56,8+ —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=5_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 21:49:58,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",IPhone
04/04/2025 22:28:33,8+ —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,"JetpackCompose, Swift",<=10_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –£–Ω—ñ–≤–µ—Ä, Articles",IPhone
04/04/2025 23:07:31,5..7 —Ä–æ–∫–∏,–§—Ä—ñ–ª–∞–Ω—Å,Jetpack Compose,<=5_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –£–Ω—ñ–≤–µ—Ä",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 23:09:49,5..7 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=5_000,Linux,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏",IPhone
04/04/2025 23:13:36,> 0 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=500,Linux,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 23:17:29,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Linux,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞","–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 23:20:54,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=3_000,Windown,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
04/04/2025 23:36:05,5..7 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=5_000,Windown,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–£–Ω—ñ–≤–µ—Ä,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 00:43:25,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 00:46:02,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 00:48:00,8+ —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Flutter,<=5_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä",IPhone
05/04/2025 00:51:52,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=3_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 01:12:21,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=3_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 01:15:34,2..3 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Swift,<=3_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",IPhone
05/04/2025 01:44:41,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=1_000,Windown,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏",IPhone
05/04/2025 02:11:53,2..3 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=3_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 02:13:41,1..2 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=1_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è —Ä–æ–±–æ—Ç–∞, —è–∫—É —Ä–æ–±–ª—é","–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 02:42:07,8+ —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=10_000,Linux,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞",–°–∞–º,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 03:49:40,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=10_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –£–Ω—ñ–≤–µ—Ä",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 04:20:27,1..2 —Ä–æ–∫–∏,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,<=3_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",IPhone
05/04/2025 05:54:40,3..5 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Kotlin Multiplatform (KMP),<=10_000,MacOS,–•–µ–π—Ç–µ—Ä,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø",–í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube,IPhone
05/04/2025 08:15:48,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,Linux,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–°–∞–º,IPhone
05/04/2025 08:21:14,> 0 —Ä–æ–∫–∏,Indie-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Windown,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–°–∞–º,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 10:15:14,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,"–Æ–Ω—ñ—Ç-—ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π –∫–æ–¥, –¢–î–î",<=5_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 10:57:33,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=3_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø",–°–∞–º,IPhone
05/04/2025 12:50:20,3..5 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Kotlin Multiplatform (KMP),<=5_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",IPhone
05/04/2025 13:26:42,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,"Jetpack Compose, XML UI",0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Windown,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä, –õ—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 14:38:53,8+ —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Kotlin Multiplatform (KMP),0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 15:48:28,5..7 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=5_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
05/04/2025 21:42:42,1..2 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=500,Windown,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞","–°–∞–º, –£–Ω—ñ–≤–µ—Ä",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
06/04/2025 01:23:29,2..3 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=3_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä",IPhone
06/04/2025 01:58:03,2..3 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Blockchain ,<=3_000,Linux,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø",–°–∞–º,Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
06/04/2025 09:11:10,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Linux,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
06/04/2025 19:20:07,–ù–µ –º–∞—é –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Linux,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –£–Ω—ñ–≤–µ—Ä",IPhone
06/04/2025 21:31:34,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,XML UI,<=3_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
06/04/2025 21:42:18,5..7 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=5_000,MacOS,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞",–°–∞–º,IPhone
07/04/2025 09:03:13,2..3 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,XML UI,<=3_000,MacOS,–í–µ—Å—å —á–∞—Å –Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
07/04/2025 11:02:46,1..2 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=3_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –ö—É—Ä—Å–∏, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
07/04/2025 11:04:54,1..2 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=1_000,Windown,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è —Ä–æ–±–æ—Ç–∞, —è–∫—É —Ä–æ–±–ª—é","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
07/04/2025 11:18:17,> 0 —Ä–æ–∫–∏,–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É,Jetpack Compose,0$ (–í—á—É—Å—è/–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ),Windown,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,–°–∞–º,IPhone
07/04/2025 11:48:51,> 0 —Ä–æ–∫–∏,–ê—É—Ç—Å–æ—Ä—Å,Jetpack Compose,<=1_000,MacOS,–ë–∞–≥–∞—Ç–æ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,–¢–∞–∫,"–°–∞–º, –í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube",Android —Å–º–∞—Ä—Ç—Ñ–æ–Ω
07/04/2025 11:58:23,3..5 —Ä–æ–∫–∏,–ü—Ä–æ–¥—É–∫—Ç,Jetpack Compose,<=3_000,Linux,–¢—Ä–æ—Ö–∏ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è,"–ù—ñ, –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–ø","–°–∞–º, –£–Ω—ñ–≤–µ—Ä, –º–∞–ª–∞ –º–µ–Ω—Ç–æ—Ä–∞",IPhone
</script>

  <script>
    // --- Global Variables ---
    let surveyData = [];
    let charts = {};
    const COLUMN_MAPPING = {
        TIMESTAMP: 'Timestamp',
        EXPERIENCE: '–î–æ—Å–≤—ñ–¥',
        WORK_SPHERE: '–£ —è–∫—ñ–π —Å—Ñ–µ—Ä—ñ —Ç–∏ –ø—Ä–∞—Ü—é—î—à?',
        TECHNOLOGY: '–ó —Ü–∏–º –ø—Ä–∞—Ü—é—î–º–æ –∑–∞—Ä–∞–∑ (–í –æ—Å–Ω–æ–≤–Ω–æ–º—É –∞–±–æ –±—ñ–ª—å—à—ñ—Å—Ç—å —á–∞—Å—É)',
        SALARY: '–ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –≥—Ä–æ—à—ñ (–í –¥–æ–ª—è—Ä–∞—Ö)',
        OS: 'OS –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏',
        AI_USAGE: '–®—Ç—É—á–∫–∞ —ñ–Ω—Ç–µ–ª–µ–∫—Ç',
        SATISFACTION: '–ß–∏ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π —Ç–∏ —Å–≤–æ—î—é –∑–∞—Ä–ø–ª–∞—Ç–æ—é —ñ –∫–æ–º–ø–∞–Ω—ñ—î—é –∑–∞—Ä–∞–∑?',
        LEARNING: '–Ø–∫ –≤–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è –∫–æ–¥–∏—Ç–∏?',
        DEVICE: '–ú—ñ–π –æ—Å–Ω–æ–≤–Ω–∏–π –¥–µ–≤–∞–π—Å'
    };

    // --- Theme Handling ---
    function applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        updateChartColors();
    }

    function toggleTheme() {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        applyTheme(newTheme);
        localStorage.setItem('theme', newTheme); // Save preference
    }

    function updateChartColors() {
        const computedStyle = getComputedStyle(document.documentElement);
        const textColor = computedStyle.getPropertyValue('--text-color');
        const gridColor = computedStyle.getPropertyValue('--chart-grid');
        const palette = [
            computedStyle.getPropertyValue('--palette-1'),
            computedStyle.getPropertyValue('--palette-2'),
            computedStyle.getPropertyValue('--palette-3'),
            computedStyle.getPropertyValue('--palette-4'),
            computedStyle.getPropertyValue('--palette-5'),
            computedStyle.getPropertyValue('--palette-6'),
        ];
        const satisfactionColors = [
            computedStyle.getPropertyValue('--success-color'), // –¢–∞–∫
            computedStyle.getPropertyValue('--warning-color'), // –ù—ñ, –ó–ü
            computedStyle.getPropertyValue('--error-color'),   // –ù—ñ, —Ä–æ–±–æ—Ç–∞
            computedStyle.getPropertyValue('--error-color'),   // –ù—ñ, –æ–±–∏–¥–≤–∞ (use same as 'job' or a distinct one)
             gridColor // –ù–µ –≤–∫–∞–∑–∞–Ω–æ
        ];

        Chart.defaults.color = textColor;
        Chart.defaults.borderColor = gridColor;

        Object.values(charts).forEach(chart => {
            if (chart) {
                // --- –ü–û–ß–ê–¢–û–ö –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø ---
                // –û–Ω–æ–≤–ª—é—î–º–æ –∫–æ–ª—å–æ—Ä–∏ —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –æ—Å—ñ —ñ—Å–Ω—É—é—Ç—å
                if (chart.options.scales && chart.options.scales.x) {
                    chart.options.scales.x.grid.color = gridColor;
                    chart.options.scales.x.ticks.color = textColor;
                }
                if (chart.options.scales && chart.options.scales.y) {
                    chart.options.scales.y.grid.color = gridColor;
                    chart.options.scales.y.ticks.color = textColor;
                }
                // --- –ö–Ü–ù–ï–¶–¨ –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø ---

                // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É –ª–µ–≥–µ–Ω–¥–∏ (—Ü–µ –±–µ–∑–ø–µ—á–Ω–æ, –±–æ plugin.legend —ñ—Å–Ω—É—î)
                if (chart.options.plugins && chart.options.plugins.legend && chart.options.plugins.legend.labels) {
                   chart.options.plugins.legend.labels.color = textColor;
                }


                 // Apply specific palettes
                 if (chart.canvas.id === 'satisfactionChart') {
                    // –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ datasets —ñ—Å–Ω—É—î
                    if (chart.data.datasets && chart.data.datasets.length > 0) {
                         const satLabels = chart.data.labels;
                         const backgroundColors = satLabels.map(label => {
                            if (label.includes('–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π')) return satisfactionColors[0];
                            if (label.includes('(–ó–ü)')) return satisfactionColors[1];
                            if (label.includes('(–†–æ–±–æ—Ç–∞ —Ç–∞ –ó–ü)')) return satisfactionColors[3]; // Both
                            if (label.includes('(–†–æ–±–æ—Ç–∞)')) return satisfactionColors[2];
                            return satisfactionColors[4]; // Default/–ù–µ –≤–∫–∞–∑–∞–Ω–æ
                         });
                        chart.data.datasets[0].backgroundColor = backgroundColors;
                    }
                } else if (chart.config.type === 'pie' || chart.config.type === 'doughnut') {
                     // –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—å —â–æ datasets —ñ—Å–Ω—É—î
                     if (chart.data.datasets && chart.data.datasets.length > 0) {
                        chart.data.datasets[0].backgroundColor = palette;
                     }
                 } else if (chart.data.datasets && chart.data.datasets.length > 0){
                     chart.data.datasets[0].backgroundColor = palette[0]; // Default bar/line color
                     chart.data.datasets[0].borderColor = palette[0];
                 }

                chart.update();
            }
        });
    }

     // --- Utility Functions ---
     function addInsight(listElement, text) {
        if (!text) return;
        const li = document.createElement('li');
        li.textContent = text;
        listElement.appendChild(li);
     }

     function showError(message) {
        const errorElement = document.getElementById('errorMessage');
        errorElement.textContent = "–ü–æ–º–∏–ª–∫–∞: " + message;
        errorElement.style.display = 'block';
        document.getElementById('loading').style.display = 'none';
        document.getElementById('dashboard').style.display = 'none'; // Hide dashboard on error
     }

     function hideError() {
        document.getElementById('errorMessage').style.display = 'none';
     }

     // --- Data Parsing Functions ---

     // Parses experience string like "1..2 —Ä–æ–∫–∏", "8+ —Ä–æ–∫–∏", "> 0 —Ä–æ–∫–∏" into a numerical representation (mid-point or boundary).
     function parseExperience(expStr) {
        if (!expStr || typeof expStr !== 'string') return null;
        expStr = expStr.toLowerCase().trim();

        if (expStr.includes('–Ω–µ –º–∞—é') || expStr === '0') return 0;
        if (expStr.includes('> 0') || expStr.includes('< 1')) return 0.5; // Treat <1 year as 0.5
        if (expStr.includes('..')) {
            const parts = expStr.match(/(\d+)\.\.(\d+)/);
            if (parts) return (parseInt(parts[1]) + parseInt(parts[2])) / 2;
        }
        if (expStr.includes('+')) {
             const parts = expStr.match(/(\d+)\+/);
             if (parts) return parseInt(parts[1]); // Represent 8+ as 8 for grouping/lower bound
        }
         // Try parsing a simple number
         const num = parseFloat(expStr);
         if (!isNaN(num)) return num;

        return null; // Can't parse
     }

      // Parses salary string like "<=3_000", ">10_000", "0$" into a numerical value.
      // We'll use the boundary value for simplicity in ranges.
      function parseSalary(salaryStr) {
         if (salaryStr === null || salaryStr === undefined) return null;
         if (typeof salaryStr === 'number') return salaryStr; // Already a number
         if (typeof salaryStr !== 'string') return null;

         salaryStr = salaryStr.trim().replace(/[\s_$]/g, '').replace(',', ''); // Clean up

         if (salaryStr.toLowerCase().includes('–≤—á—É—Å—è') || salaryStr === '0') return 0;

         if (salaryStr.startsWith('<=')) {
             return parseInt(salaryStr.substring(2)) || null;
         }
         if (salaryStr.startsWith('>')) {
             // Represent ">10000" as slightly above, e.g., 10001, or just 10000 for grouping
             return parseInt(salaryStr.substring(1)) + 1 || null;
         }
         // Try direct parse if it's just a number
         const num = parseInt(salaryStr);
         return !isNaN(num) ? num : null;
     }

     // Parses technology string, splits by common delimiters, trims, normalizes.
    function parseTechnologies(techStr) {
        if (!techStr || typeof techStr !== 'string') return [];
        // Normalize common names first
        techStr = techStr.replace(/JetpackCompose/gi, 'Jetpack Compose')
                         .replace(/XML UI/gi, 'XML')
                         .replace(/Kotlin Multiplatform \(KMP\)/gi, 'KMP');

        // Split by comma, semicolon, plus, space (if next char is capital or XML/Compose)
        const techs = techStr.split(/[,;+]|\s+(?=XML|Compose)/)
            .map(t => t.trim())
            .filter(t => t.length > 0); // Remove empty strings

        // Handle cases like "XML + Compose" specifically if not split above
        const finalTechs = [];
        techs.forEach(tech => {
            if (tech === 'XML + Compose') { // Example explicit handling if needed
                finalTechs.push('XML', 'Jetpack Compose');
            } else {
                finalTechs.push(tech);
            }
        });

         // Filter out less specific terms if desired (optional)
         return finalTechs.filter(t => !['–Æ–Ω—ñ—Ç-—ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π –∫–æ–¥', '–¢–î–î', 'Articles'].includes(t));
     }

     // Normalizes OS names
     function normalizeOS(osStr) {
         if (!osStr || typeof osStr !== 'string') return '–ù–µ –≤–∫–∞–∑–∞–Ω–æ';
         const lowerOS = osStr.toLowerCase().trim();
         if (lowerOS.startsWith('mac') || lowerOS.startsWith('macos')) return 'MacOS';
         if (lowerOS.startsWith('win') || lowerOS.startsWith('windown')) return 'Windows'; // Fix typo
         if (lowerOS.startsWith('lin')) return 'Linux';
         return '–Ü–Ω—à–µ';
     }

     // Categorizes satisfaction responses
    function parseSatisfaction(satStr) {
        if (!satStr || typeof satStr !== 'string') return '–ù–µ –≤–∫–∞–∑–∞–Ω–æ';
        const lowerSat = satStr.toLowerCase();
        if (lowerSat === '—Ç–∞–∫') return '–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞)';
        if (lowerSat.includes('–Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—Å—å—è —Ä–æ–±–æ—Ç–∞ —ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞')) return '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞ —Ç–∞ –ó–ü)';
        if (lowerSat.includes('–∑–ø') || lowerSat.includes('–∑–∞—Ä–ø–ª–∞—Ç')) return '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–ó–ü)';
        if (lowerSat.includes('—Ä–æ–±–æ—Ç')) return '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞)';
        return '–ù–µ –≤–∫–∞–∑–∞–Ω–æ'; // Fallback
     }

     // Parses learning methods string
     function parseLearningMethods(learnStr) {
         if (!learnStr || typeof learnStr !== 'string') return [];
         return learnStr.split(',')
                .map(m => m.trim().replace(/^–°–∞–º$/i, '–°–∞–º–æ—Å—Ç—ñ–π–Ω–æ') // Normalize "–°–∞–º"
                           .replace(/–í—ñ–¥–µ–æ —Ç—É—Ç–æ—Ä—ñ–∞–ª–∏ –≤ Youtube/gi, 'Youtube –¢—É—Ç–æ—Ä—ñ–∞–ª–∏')
                           .replace(/–ª—é–¥–∏.*–ø–æ–¥—ñ—è—Ö.*/i, '–ù–µ—Ç–≤–æ—Ä–∫—ñ–Ω–≥/–ü–æ–¥—ñ—ó') // Simplify long entry
                           .replace(/–º–∞–ª–∞ –º–µ–Ω—Ç–æ—Ä–∞/i, '–ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ')
                 )
                .filter(m => m.length > 0);
     }

     // Simple device parsing
     function parseDevice(devStr) {
        if (!devStr || typeof devStr !== 'string') return '–ù–µ –≤–∫–∞–∑–∞–Ω–æ';
        const lowerDev = devStr.toLowerCase();
        if (lowerDev.includes('android')) return 'Android';
        if (lowerDev.includes('iphone')) return 'iPhone';
        return '–Ü–Ω—à–µ';
     }

     // AI Usage parsing
     function parseAIUsage(aiStr) {
        if (!aiStr || typeof aiStr !== 'string') return '–ù–µ –≤–∫–∞–∑–∞–Ω–æ';
        const lowerAI = aiStr.toLowerCase();
        if (lowerAI.includes('–≤–µ—Å—å —á–∞—Å')) return '–í–µ—Å—å —á–∞—Å';
        if (lowerAI.includes('–±–∞–≥–∞—Ç–æ')) return '–ë–∞–≥–∞—Ç–æ';
        if (lowerAI.includes('—Ç—Ä–æ—Ö–∏')) return '–¢—Ä–æ—Ö–∏';
        if (lowerAI.includes('—Ö–µ–π—Ç–µ—Ä')) return '–ù–µ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è (–•–µ–π—Ç–µ—Ä)';
        return '–ù–µ –≤–∫–∞–∑–∞–Ω–æ';
     }


    // --- Data Processing & Aggregation ---

    function processSurveyData(rawData) {
        const processed = rawData
            .map((row, index) => {
                // Skip empty rows (sometimes PapaParse includes them)
                if (Object.values(row).every(val => val === null || val === '')) {
                    return null;
                }
                try {
                    const experienceNum = parseExperience(row[COLUMN_MAPPING.EXPERIENCE]);
                    const salaryNum = parseSalary(row[COLUMN_MAPPING.SALARY]);

                    // Skip rows where essential data couldn't be parsed
                    // Allow 0 salary for learners, but null salary might indicate bad data if experience > 0
                    if (experienceNum === null || (salaryNum === null && experienceNum > 0 && row[COLUMN_MAPPING.WORK_SPHERE] !== '–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É')) {
                       // console.warn(`Skipping row ${index + 2}: Could not parse essential data (Exp: ${row[COLUMN_MAPPING.EXPERIENCE]}, Salary: ${row[COLUMN_MAPPING.SALARY]})`);
                        return null;
                    }


                    return {
                        experienceRaw: row[COLUMN_MAPPING.EXPERIENCE],
                        experienceNum: experienceNum,
                        workSphere: row[COLUMN_MAPPING.WORK_SPHERE] || '–ù–µ –≤–∫–∞–∑–∞–Ω–æ',
                        technologiesRaw: row[COLUMN_MAPPING.TECHNOLOGY],
                        technologiesParsed: parseTechnologies(row[COLUMN_MAPPING.TECHNOLOGY]),
                        salaryRaw: row[COLUMN_MAPPING.SALARY],
                        salaryNum: salaryNum,
                        os: normalizeOS(row[COLUMN_MAPPING.OS]),
                        aiUsage: parseAIUsage(row[COLUMN_MAPPING.AI_USAGE]),
                        satisfaction: parseSatisfaction(row[COLUMN_MAPPING.SATISFACTION]),
                        learningMethodsRaw: row[COLUMN_MAPPING.LEARNING],
                        learningMethodsParsed: parseLearningMethods(row[COLUMN_MAPPING.LEARNING]),
                        device: parseDevice(row[COLUMN_MAPPING.DEVICE])
                    };
                } catch (error) {
                    console.error(`Error processing row ${index + 2}:`, row, error);
                    showError(`–ü–æ–º–∏–ª–∫–∞ –æ–±—Ä–æ–±–∫–∏ —Ä—è–¥–∫–∞ ${index + 2} —É CSV. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å.`);
                    return null; // Skip problematic row
                }
            })
            .filter(row => row !== null); // Filter out skipped rows

        // Basic validation after processing
        if (processed.length === 0 && rawData.length > 0) {
             showError("–ù–µ –≤–¥–∞–ª–æ—Å—è –æ–±—Ä–æ–±–∏—Ç–∏ –∂–æ–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∑ CSV. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫.");
             return [];
        } else if (processed.length < rawData.length * 0.5) { // Heuristic: if more than half rows skipped
            console.warn(`–ó–Ω–∞—á–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ (${rawData.length - processed.length}) –±—É–ª–æ –ø—Ä–æ–ø—É—â–µ–Ω–æ –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏.`);
        }

        return processed;
    }

    // --- Chart Data Preparation ---

    function prepareExperienceData(data) {
        const groups = {
             '0 —Ä–æ–∫—ñ–≤ (–ë–µ–∑ –¥–æ—Å–≤.)': 0,
             '0-1 —Ä—ñ–∫': 0,
             '1-2 —Ä–æ–∫–∏': 0,
             '2-3 —Ä–æ–∫–∏': 0,
             '3-5 —Ä–æ–∫—ñ–≤': 0,
             '5-7 —Ä–æ–∫—ñ–≤': 0,
             '7+ —Ä–æ–∫—ñ–≤': 0
        };
        data.forEach(row => {
            const exp = row.experienceNum;
            if (exp === 0 && (row.experienceRaw?.includes('–ù–µ –º–∞—é') || row.workSphere === '–í—á—É—Å—è/–®—É–∫–∞—é —Ä–æ–±–æ—Ç—É')) groups['0 —Ä–æ–∫—ñ–≤ (–ë–µ–∑ –¥–æ—Å–≤.)']++;
            else if (exp === 0.5) groups['0-1 —Ä—ñ–∫']++; // "> 0 —Ä–æ–∫–∏" or "< 1 —Ä—ñ–∫"
            else if (exp === 1.5) groups['1-2 —Ä–æ–∫–∏']++;
            else if (exp === 2.5) groups['2-3 —Ä–æ–∫–∏']++;
            else if (exp === 4) groups['3-5 —Ä–æ–∫—ñ–≤']++;
            else if (exp === 6) groups['5-7 —Ä–æ–∫—ñ–≤']++;
            else if (exp >= 7) groups['7+ —Ä–æ–∫—ñ–≤']++; // Catch 8+ explicitly mapped to 8
        });
         return { labels: Object.keys(groups), data: Object.values(groups) };
    }

    function prepareSalaryData(data) {
        const groups = {
            '0 (–ù–∞–≤—á–∞–Ω–Ω—è)': 0,
            '1-1000': 0,
            '1001-2000': 0,
            '2001-3000': 0,
            '3001-4000': 0,
            '4001-5000': 0,
            '5001-7000': 0,
            '7001-10000': 0,
            '10000+': 0
        };
         data.forEach(row => {
            const salary = row.salaryNum;
            if (salary === null) return;

            if (salary === 0) groups['0 (–ù–∞–≤—á–∞–Ω–Ω—è)']++;
            else if (salary <= 1000) groups['1-1000']++;
            else if (salary <= 2000) groups['1001-2000']++;
            else if (salary <= 3000) groups['2001-3000']++;
            else if (salary <= 4000) groups['3001-4000']++;
            else if (salary <= 5000) groups['4001-5000']++;
             else if (salary <= 7000) groups['5001-7000']++;
             else if (salary <= 10000) groups['7001-10000']++;
             else groups['10000+']++;
        });
        // Filter out empty groups to avoid cluttering the chart
        const filteredLabels = [];
        const filteredData = [];
        Object.entries(groups).forEach(([label, count]) => {
            if (count > 0) {
                filteredLabels.push(label);
                filteredData.push(count);
            }
        });
        return { labels: filteredLabels, data: filteredData };
    }

    function prepareTechData(data) {
        const techCount = {};
        data.forEach(row => {
            row.technologiesParsed.forEach(tech => {
                 // Further normalize similar techs if needed
                 let normalizedTech = tech;
                 if (tech.toLowerCase().includes('xml')) normalizedTech = 'XML';
                 if (tech.toLowerCase().includes('compose')) normalizedTech = 'Jetpack Compose';
                 if (tech.toLowerCase().includes('kmp')) normalizedTech = 'KMP';
                 if (tech.toLowerCase().includes('swift')) normalizedTech = 'Swift'; // Might indicate iOS overlap
                 if (tech.toLowerCase().includes('flutter')) normalizedTech = 'Flutter';
                 if (tech.toLowerCase().includes('java')) normalizedTech = 'Java'; // Legacy or specific cases
                 if (tech.toLowerCase().includes('blockchain')) normalizedTech = 'Blockchain';


                techCount[normalizedTech] = (techCount[normalizedTech] || 0) + 1;
            });
        });

        // Focus on core Android UI techs for the primary chart, maybe show others elsewhere
        const coreUiTechs = ['Jetpack Compose', 'XML', 'KMP', 'Flutter']; // Add others if significant
        const sortedUiTechs = coreUiTechs
            .map(tech => ({ name: tech, count: techCount[tech] || 0 }))
            .filter(item => item.count > 0) // Only show techs that actually appear
            .sort((a, b) => b.count - a.count);

        return {
            labels: sortedUiTechs.map(item => item.name),
            data: sortedUiTechs.map(item => item.count)
        };
    }

     // Calculate MEDIAN salary per experience group for correlation
     function prepareCorrelationData(data) {
         const experienceGroups = {
             // Using the same numerical keys as parseExperience for mapping
             0: { expLabel: '0 (–ë–µ–∑ –¥–æ—Å–≤.)', salaries: [] },
             0.5: { expLabel: '0-1 —Ä—ñ–∫', salaries: [] },
             1.5: { expLabel: '1-2 —Ä–æ–∫–∏', salaries: [] },
             2.5: { expLabel: '2-3 —Ä–æ–∫–∏', salaries: [] },
             4: { expLabel: '3-5 —Ä–æ–∫—ñ–≤', salaries: [] },
             6: { expLabel: '5-7 —Ä–æ–∫—ñ–≤', salaries: [] },
             8: { expLabel: '7+ —Ä–æ–∫—ñ–≤', salaries: [] }, // Represents 7+ including 8+
         };

         data.forEach(row => {
            // Only include those with commercial experience and valid salary > 0 for this chart
            if (row.experienceNum > 0 && row.salaryNum !== null && row.salaryNum > 0) {
                 let groupKey = row.experienceNum;
                 if (row.experienceNum >= 7) groupKey = 8; // Group all 7+ into the 8 key

                 if (experienceGroups[groupKey]) {
                     experienceGroups[groupKey].salaries.push(row.salaryNum);
                 }
             }
         });

         const correlationPoints = Object.values(experienceGroups)
             .filter(group => group.salaries.length > 0) // Ensure group has data
             .map(group => {
                 group.salaries.sort((a, b) => a - b); // Sort for median calculation
                 const mid = Math.floor(group.salaries.length / 2);
                 const medianSalary = group.salaries.length % 2 !== 0
                     ? group.salaries[mid]
                     : (group.salaries[mid - 1] + group.salaries[mid]) / 2;
                 return {
                     x: group.expLabel, // Use the descriptive label for the axis
                     y: Math.round(medianSalary)
                 };
             });

             // Ensure the points are sorted by experience for the line chart
             const expOrder = ['0 (–ë–µ–∑ –¥–æ—Å–≤.)', '0-1 —Ä—ñ–∫', '1-2 —Ä–æ–∫–∏', '2-3 —Ä–æ–∫–∏', '3-5 —Ä–æ–∫—ñ–≤', '5-7 —Ä–æ–∫—ñ–≤', '7+ —Ä–æ–∫—ñ–≤'];
             correlationPoints.sort((a, b) => expOrder.indexOf(a.x) - expOrder.indexOf(b.x));

         return correlationPoints;
     }

     function prepareGenericDistributionData(data, key) {
         const counts = {};
         data.forEach(row => {
             const value = row[key];
             counts[value] = (counts[value] || 0) + 1;
         });
         const sortedData = Object.entries(counts)
            .sort(([, countA], [, countB]) => countB - countA); // Sort descending by count

         return {
             labels: sortedData.map(item => item[0]),
             data: sortedData.map(item => item[1])
         };
     }

    function prepareLearningMethodsData(data) {
        const methodCounts = {};
        let totalRespondents = 0;
        data.forEach(row => {
            if (row.learningMethodsParsed.length > 0) {
                totalRespondents++;
                row.learningMethodsParsed.forEach(method => {
                    methodCounts[method] = (methodCounts[method] || 0) + 1;
                });
            }
        });

        const sortedMethods = Object.entries(methodCounts)
            .sort(([, countA], [, countB]) => countB - countA) // Sort descending
            .slice(0, 10); // Limit to top 10 for clarity

        return {
             labels: sortedMethods.map(item => item[0]),
             // Calculate percentage relative to respondents who answered this question
             data: sortedMethods.map(item => Math.round((item[1] / totalRespondents) * 100))
        };
     }


    // --- Data Calculation Helpers (New) ---

    /**
     * –û–±—á–∏—Å–ª—é—î –º–µ–¥—ñ–∞–Ω–Ω—É –∑–∞—Ä–ø–ª–∞—Ç—É –¥–ª—è –∫–æ–∂–Ω–æ—ó –≥—Ä—É–ø–∏ –≤ –∑–∞–¥–∞–Ω–æ–º—É –∫–ª—é—á—ñ.
     * @param {Array} data - –ú–∞—Å–∏–≤ –æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è.
     * @param {String} groupKey - –ö–ª—é—á –¥–ª—è –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 'device', 'satisfaction').
     * @returns {Object} - –û–±'—î–∫—Ç, –¥–µ –∫–ª—é—á—ñ - —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≥—Ä—É–ø, –∞ –∑–Ω–∞—á–µ–Ω–Ω—è - –º–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü.
     */
    function calculateMedianSalaryByGroup(data, groupKey) {
        const salariesByGroup = {};

        // 1. –ì—Ä—É–ø—É—î–º–æ –∑–∞—Ä–ø–ª–∞—Ç–∏ (–ª–∏—à–µ —Ç—ñ, —â–æ > 0)
        data.forEach(row => {
            const groupValue = row[groupKey];
            const salary = row.salaryNum;

            // –í—Ä–∞—Ö–æ–≤—É—î–º–æ –ª–∏—à–µ —Ç–∏—Ö, —Ö—Ç–æ –º–∞—î –∑–∞—Ä–ø–ª–∞—Ç—É > 0
            if (salary !== null && salary > 0 && groupValue) {
                if (!salariesByGroup[groupValue]) {
                    salariesByGroup[groupValue] = [];
                }
                salariesByGroup[groupValue].push(salary);
            }
        });

        // 2. –û–±—á–∏—Å–ª—é—î–º–æ –º–µ–¥—ñ–∞–Ω—É –¥–ª—è –∫–æ–∂–Ω–æ—ó –≥—Ä—É–ø–∏
        const medianSalaries = {};
        for (const group in salariesByGroup) {
            const salaries = salariesByGroup[group];
            if (salaries.length > 0) {
                salaries.sort((a, b) => a - b); // –°–æ—Ä—Ç—É—î–º–æ –¥–ª—è –º–µ–¥—ñ–∞–Ω–∏
                const mid = Math.floor(salaries.length / 2);
                const median = salaries.length % 2 !== 0
                    ? salaries[mid]
                    : (salaries[mid - 1] + salaries[mid]) / 2;
                medianSalaries[group] = Math.round(median);
            } else {
                 medianSalaries[group] = 0; // –ê–±–æ null, —è–∫—â–æ –≥—Ä—É–ø–∞ —î, –∞–ª–µ –∑–∞—Ä–ø–ª–∞—Ç –Ω–µ–º–∞—î
            }
        }
        return medianSalaries;
    }

     /**
      * –ì–æ—Ç—É—î –¥–∞–Ω—ñ –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞—Ä–ø–ª–∞—Ç –∑–∞ –≥—Ä—É–ø–∞–º–∏.
      * @param {Object} medianSalaries - –û–±'—î–∫—Ç –∑ –º–µ–¥—ñ–∞–Ω–Ω–∏–º–∏ –∑–∞—Ä–ø–ª–∞—Ç–∞–º–∏ –∑–∞ –≥—Ä—É–ø–∞–º–∏.
      * @param {Array} labelsOrder - (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –ü–æ—Ä—è–¥–æ–∫ –º—ñ—Ç–æ–∫ –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫–∞.
      * @returns {Object} - –û–±'—î–∫—Ç –∑ labels —Ç–∞ data –¥–ª—è Chart.js.
      */
     function prepareSalaryComparisonChartData(medianSalaries, labelsOrder = null) {
         let sortedEntries = Object.entries(medianSalaries)
             .filter(([, salary]) => salary > 0); // –ü–æ–∫–∞–∑—É—î–º–æ –ª–∏—à–µ –≥—Ä—É–ø–∏ –∑ –ó–ü > 0

         if (labelsOrder) {
             // –°–æ—Ä—Ç—É—î–º–æ –∑–≥—ñ–¥–Ω–æ –∑ –∑–∞–¥–∞–Ω–∏–º –ø–æ—Ä—è–¥–∫–æ–º, —Ä–µ—à—Ç—É –¥–æ–¥–∞—î–º–æ –≤ –∫—ñ–Ω—Ü—ñ
             sortedEntries.sort((a, b) => {
                 const indexA = labelsOrder.indexOf(a[0]);
                 const indexB = labelsOrder.indexOf(b[0]);
                 if (indexA === -1 && indexB === -1) return 0; // –û–±–∏–¥–≤–∞ –Ω–µ –≤ —Å–ø–∏—Å–∫—É
                 if (indexA === -1) return 1; // a –Ω–µ –≤ —Å–ø–∏—Å–∫—É, b - –≤ —Å–ø–∏—Å–∫—É
                 if (indexB === -1) return -1; // b –Ω–µ –≤ —Å–ø–∏—Å–∫—É, a - –≤ —Å–ø–∏—Å–∫—É
                 return indexA - indexB; // –û–±–∏–¥–≤–∞ –≤ —Å–ø–∏—Å–∫—É, —Å–æ—Ä—Ç—É—î–º–æ –∑–∞ –ø–æ—Ä—è–¥–∫–æ–º
             });
         } else {
             // –°–æ—Ä—Ç—É—î–º–æ –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º –∑–∞—Ä–ø–ª–∞—Ç–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
             sortedEntries.sort((a, b) => b[1] - a[1]);
         }

         return {
             labels: sortedEntries.map(entry => entry[0]),
             data: sortedEntries.map(entry => entry[1])
         };
     }


    // --- Insight Generation ---

    // --- Insight Generation ---
    function createInsights(data) {
         const totalRespondents = data.length;
         document.getElementById('respondentCount').textContent = totalRespondents;

         const insights = {
             experience: document.getElementById('experienceInsights'),
             salary: document.getElementById('salaryInsights'),
             tech: document.getElementById('techInsights'),
             correlation: document.getElementById('correlationInsights'),
             workSphere: document.getElementById('workSphereInsights'),
             os: document.getElementById('osInsights'),
             satisfaction: document.getElementById('satisfactionInsights'),
             aiUsage: document.getElementById('aiUsageInsights'),
             learningMethod: document.getElementById('learningMethodInsights'),
             device: document.getElementById('deviceInsights'),
             // –î–æ–¥–∞—î–º–æ –Ω–æ–≤—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å–ø–∏—Å–∫—É –¥–ª—è —ñ–Ω—Å–∞–π—Ç—ñ–≤
             salaryByDevice: document.getElementById('salaryByDeviceInsights'), // –ù–æ–≤–∏–π ID
             salaryBySatisfaction: document.getElementById('salaryBySatisfactionInsights') // –ù–æ–≤–∏–π ID
         };

         // Clear previous insights
         Object.values(insights).forEach(el => {
             // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –µ–ª–µ–º–µ–Ω—Ç —ñ—Å–Ω—É—î –ø–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ —á–∏—Å—Ç–∏—Ç–∏
             if (el) {
                 el.innerHTML = '';
             } else {
                // console.warn("Insight list element not found during clearing."); // –î–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
             }
         });

         // --- Experience Insights ---
         const experienceData = prepareExperienceData(data);
         if (insights.experience && experienceData.labels.length > 0) {
             const mostCommonExpGroup = experienceData.labels[experienceData.data.indexOf(Math.max(...experienceData.data))];
             addInsight(insights.experience, `–ù–∞–π–±—ñ–ª—å—à –ø–æ—à–∏—Ä–µ–Ω–∞ –≥—Ä—É–ø–∞ –¥–æ—Å–≤—ñ–¥—É: ${mostCommonExpGroup}.`);
             const seniorDevsPercent = Math.round((experienceData.data[experienceData.labels.indexOf('7+ —Ä–æ–∫—ñ–≤')] || 0) / totalRespondents * 100);
             addInsight(insights.experience, `${seniorDevsPercent}% —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤ –º–∞—é—Ç—å 7+ —Ä–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É.`);
             const juniorDevsPercent = Math.round(((experienceData.data[experienceData.labels.indexOf('0 —Ä–æ–∫—ñ–≤ (–ë–µ–∑ –¥–æ—Å–≤.)')] || 0) + (experienceData.data[experienceData.labels.indexOf('0-1 —Ä—ñ–∫')] || 0)) / totalRespondents * 100);
             addInsight(insights.experience, `${juniorDevsPercent}% –º–∞—é—Ç—å –º–µ–Ω—à–µ 1 —Ä–æ–∫—É –∫–æ–º–µ—Ä—Ü—ñ–π–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É –∞–±–æ —â–µ –Ω–∞–≤—á–∞—é—Ç—å—Å—è.`);
         } else if (insights.experience) {
            addInsight(insights.experience, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –¥–æ—Å–≤—ñ–¥—É.`);
         }

         // --- Salary Insights ---
         const salaryData = prepareSalaryData(data);
         if (insights.salary) {
             const validSalaries = data.map(r => r.salaryNum).filter(s => s !== null && s > 0); // Exclude 0/null for avg/median
             if (validSalaries.length > 0) {
                validSalaries.sort((a, b) => a - b);
                const medianSalary = validSalaries.length % 2 !== 0
                    ? validSalaries[Math.floor(validSalaries.length / 2)]
                    : (validSalaries[validSalaries.length / 2 - 1] + validSalaries[validSalaries.length / 2]) / 2;
                addInsight(insights.salary, `–ú–µ–¥—ñ–∞–Ω–Ω–∞ –∑–∞—Ä–ø–ª–∞—Ç–∞ (—Å–µ—Ä–µ–¥ —Ç–∏—Ö, —Ö—Ç–æ –≤–∫–∞–∑–∞–≤ > 0$): $${Math.round(medianSalary)}.`);
                const highEarnersPercent = Math.round(validSalaries.filter(s => s > 5000).length / validSalaries.length * 100);
                addInsight(insights.salary, `${highEarnersPercent}% —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —ñ–∑ –∑–∞—Ä–ø–ª–∞—Ç–æ—é –∑–∞—Ä–æ–±–ª—è—é—Ç—å –ø–æ–Ω–∞–¥ $5000.`);
             } else {
                 addInsight(insights.salary, "–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –∑–∞—Ä–ø–ª–∞—Ç—É > 0 –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –º–µ–¥—ñ–∞–Ω–∏.");
             }
             const learnersCount = salaryData.data[salaryData.labels.indexOf('0 (–ù–∞–≤—á–∞–Ω–Ω—è)')] || 0;
             addInsight(insights.salary, `${learnersCount} —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤ (${Math.round(learnersCount/totalRespondents*100)}%) –≤–∫–∞–∑–∞–ª–∏, —â–æ –Ω–∞–≤—á–∞—é—Ç—å—Å—è (0$).`);
         }

         // --- Tech Insights ---
         const techData = prepareTechData(data);
         if (insights.tech && techData.labels.length > 0) {
            addInsight(insights.tech, `${techData.labels[0]} —î –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–æ—é UI —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—î—é (${techData.data[0]} –∑–≥–∞–¥–æ–∫).`);
             const composeCount = techData.data[techData.labels.indexOf('Jetpack Compose')] || 0;
             const xmlCount = techData.data[techData.labels.indexOf('XML')] || 0;
             if (composeCount > 0 || xmlCount > 0) {
                 // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤—ñ–¥—Å–æ—Ç–∫–∞ —Å–µ—Ä–µ–¥ —Ç–∏—Ö, —Ö—Ç–æ –≤–∫–∞–∑–∞–≤ Compose –ê–ë–û XML
                 const relevantRespondents = data.filter(r => r.technologiesParsed.includes('Jetpack Compose') || r.technologiesParsed.includes('XML')).length;
                 if (relevantRespondents > 0) {
                     addInsight(insights.tech, `Jetpack Compose –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å ~${Math.round(composeCount / relevantRespondents * 100)}%, XML ~${Math.round(xmlCount / relevantRespondents * 100)}% —Å–µ—Ä–µ–¥ —Ç–∏—Ö, —Ö—Ç–æ –≤–∫–∞–∑–∞–≤ –æ–¥–Ω—É –∑ —Ü–∏—Ö –¥–≤–æ—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π.`);
                 }
             }
             const kmpCount = techData.data[techData.labels.indexOf('KMP')] || 0;
             if (kmpCount > 0) {
                addInsight(insights.tech, `Kotlin Multiplatform (KMP) –∑–≥–∞–¥–∞–ª–∏ ${kmpCount} (${Math.round(kmpCount / totalRespondents * 100)}%) —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤.`);
             }
         } else if (insights.tech) {
             addInsight(insights.tech, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π.`);
         }

         // --- Correlation Insights ---
         const correlationData = prepareCorrelationData(data);
         if (insights.correlation && correlationData.length >= 2) {
             const startSalary = correlationData[0].y;
             const endSalary = correlationData[correlationData.length - 1].y;
             addInsight(insights.correlation, `–ú–µ–¥—ñ–∞–Ω–Ω–∞ –∑–∞—Ä–ø–ª–∞—Ç–∞ –∑—Ä–æ—Å—Ç–∞—î –∑ ~\$${startSalary} –¥–ª—è –ø–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ–≤ –¥–æ ~\$${endSalary} –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ –∑ 7+ —Ä–æ–∫–∞–º–∏ –¥–æ—Å–≤—ñ–¥—É.`);
             // Find the biggest jump (optional)
             let maxJump = 0;
             let jumpLabel = '';
             for (let i = 1; i < correlationData.length; i++) {
                 const jump = correlationData[i].y - correlationData[i-1].y;
                 if (jump > maxJump) {
                     maxJump = jump;
                     jumpLabel = `${correlationData[i-1].x} –¥–æ ${correlationData[i].x}`;
                 }
             }
             if (maxJump > 0) {
                addInsight(insights.correlation, `–ù–∞–π–±—ñ–ª—å—à–∏–π —Å—Ç—Ä–∏–±–æ–∫ —É –º–µ–¥—ñ–∞–Ω–Ω—ñ–π –ó–ü —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ ${jumpLabel} (+\$${maxJump}).`);
             }
         } else if (insights.correlation) {
              addInsight(insights.correlation, "–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ–∫–∞–∑—É —á—ñ—Ç–∫–æ—ó –∫–æ—Ä–µ–ª—è—Ü—ñ—ó –∑–∞—Ä–ø–ª–∞—Ç–∏ —Ç–∞ –¥–æ—Å–≤—ñ–¥—É.");
         }

        // --- Work Sphere Insights ---
        const workSphereData = prepareGenericDistributionData(data, 'workSphere');
        if (insights.workSphere && workSphereData.labels.length > 0) {
            const topSphere = workSphereData.labels[0];
            const topSpherePercent = Math.round(workSphereData.data[0] / totalRespondents * 100);
            addInsight(insights.workSphere, `–ë—ñ–ª—å—à—ñ—Å—Ç—å (${topSpherePercent}%) –ø—Ä–∞—Ü—é—é—Ç—å —É —Å—Ñ–µ—Ä—ñ "${topSphere}".`);
            const outsourcePercent = Math.round((workSphereData.data[workSphereData.labels.indexOf('–ê—É—Ç—Å–æ—Ä—Å')] || 0) / totalRespondents * 100);
             const productPercent = Math.round((workSphereData.data[workSphereData.labels.indexOf('–ü—Ä–æ–¥—É–∫—Ç')] || 0) / totalRespondents * 100);
            addInsight(insights.workSphere, `–†–æ–∑–ø–æ–¥—ñ–ª: –ü—Ä–æ–¥—É–∫—Ç - ${productPercent}%, –ê—É—Ç—Å–æ—Ä—Å - ${outsourcePercent}%.`);
        } else if (insights.workSphere) {
             addInsight(insights.workSphere, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Å—Ñ–µ—Ä —Ä–æ–±–æ—Ç–∏.`);
        }

        // --- OS Insights ---
        const osData = prepareGenericDistributionData(data, 'os');
         if (insights.os && osData.labels.length > 0) {
            const topOS = osData.labels[0];
            const topOSPercent = Math.round(osData.data[0] / totalRespondents * 100);
            addInsight(insights.os, `${topOS} —î –¥–æ–º—ñ–Ω—É—é—á–æ—é –û–° –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ (${topOSPercent}%).`);
            const windowsPercent = Math.round((osData.data[osData.labels.indexOf('Windows')] || 0) / totalRespondents * 100);
            const linuxPercent = Math.round((osData.data[osData.labels.indexOf('Linux')] || 0) / totalRespondents * 100);
            addInsight(insights.os, `–Ü–Ω—à—ñ –ø–æ–ø—É–ª—è—Ä–Ω—ñ –û–°: Windows (${windowsPercent}%) —Ç–∞ Linux (${linuxPercent}%).`);
         } else if (insights.os) {
             addInsight(insights.os, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –û–°.`);
         }

         // --- Satisfaction Insights ---
         const satisfactionData = prepareGenericDistributionData(data, 'satisfaction');
         if (insights.satisfaction && satisfactionData.labels.length > 0) {
            const satisfiedPercent = Math.round((satisfactionData.data[satisfactionData.labels.indexOf('–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞)')] || 0) / totalRespondents * 100);
            addInsight(insights.satisfaction, `${satisfiedPercent}% —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤ –∑–∞–¥–æ–≤–æ–ª–µ–Ω—ñ –ø–æ—Ç–æ—á–Ω–æ—é —Ä–æ–±–æ—Ç–æ—é —Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç–æ—é.`);
            const dissatisfiedSalaryPercent = Math.round((satisfactionData.data[satisfactionData.labels.indexOf('–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–ó–ü)')] || 0) / totalRespondents * 100);
             const dissatisfiedBothPercent = Math.round((satisfactionData.data[satisfactionData.labels.indexOf('–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞ —Ç–∞ –ó–ü)')] || 0) / totalRespondents * 100);
             const dissatisfiedJobPercent = Math.round((satisfactionData.data[satisfactionData.labels.indexOf('–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞)')] || 0) / totalRespondents * 100);
             const totalDissatisfiedPercent = dissatisfiedSalaryPercent + dissatisfiedBothPercent + dissatisfiedJobPercent;
            addInsight(insights.satisfaction, `–ó–∞–≥–∞–ª–æ–º ${totalDissatisfiedPercent}% –Ω–µ –∑–∞–¥–æ–≤–æ–ª–µ–Ω—ñ (–ó–ü: ${dissatisfiedSalaryPercent}%, –†–æ–±–æ—Ç–∞: ${dissatisfiedJobPercent}%, –û–±–∏–¥–≤–∞: ${dissatisfiedBothPercent}%).`);
         } else if (insights.satisfaction) {
             addInsight(insights.satisfaction, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –∑–∞–¥–æ–≤–æ–ª–µ–Ω–æ—Å—Ç—ñ.`);
         }

         // --- AI Usage Insights ---
        const aiUsageData = prepareGenericDistributionData(data, 'aiUsage');
        // –ü–µ—Ä–µ–∫–æ–Ω—É—î–º–æ—Å—å, —â–æ –¥–∞–Ω—ñ —ñ—Å–Ω—É—é—Ç—å –ø–µ—Ä–µ–¥ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º
        if (aiUsageData.labels.length > 0) {
            const aiOrder = ['–í–µ—Å—å —á–∞—Å', '–ë–∞–≥–∞—Ç–æ', '–¢—Ä–æ—Ö–∏', '–ù–µ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è (–•–µ–π—Ç–µ—Ä)', '–ù–µ –≤–∫–∞–∑–∞–Ω–æ'];
            aiUsageData.labels.sort((a, b) => {
                 const indexA = aiOrder.indexOf(a);
                 const indexB = aiOrder.indexOf(b);
                 // Handle cases where a label might not be in aiOrder (shouldn't happen with current parsing, but good practice)
                 if (indexA === -1) return 1;
                 if (indexB === -1) return -1;
                 return indexA - indexB;
             });
            // –ü–µ—Ä–µ–±—É–¥–æ–≤—É—î–º–æ –¥–∞–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –Ω–æ–≤–æ–≥–æ –ø–æ—Ä—è–¥–∫—É –º—ñ—Ç–æ–∫
            const originalCounts = prepareGenericDistributionData(data, 'aiUsage'); // Get original counts again
            const sortedAIDataCounts = aiUsageData.labels.map(label => {
                const originalIndex = originalCounts.labels.indexOf(label);
                return originalIndex !== -1 ? originalCounts.data[originalIndex] : 0;
            });

             if (insights.aiUsage) {
                const frequentUsersPercent = Math.round(((sortedAIDataCounts[aiUsageData.labels.indexOf('–í–µ—Å—å —á–∞—Å')] || 0) + (sortedAIDataCounts[aiUsageData.labels.indexOf('–ë–∞–≥–∞—Ç–æ')] || 0)) / totalRespondents * 100);
                addInsight(insights.aiUsage, `${frequentUsersPercent}% –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –®–Ü —É —Å–≤–æ—ó–π —Ä–æ–±–æ—Ç—ñ ('–í–µ—Å—å —á–∞—Å' –∞–±–æ '–ë–∞–≥–∞—Ç–æ').`);
                const hatersPercent = Math.round((sortedAIDataCounts[aiUsageData.labels.indexOf('–ù–µ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è (–•–µ–π—Ç–µ—Ä)')] || 0) / totalRespondents * 100);
                 if (hatersPercent > 0) {
                    addInsight(insights.aiUsage, `${hatersPercent}% —Å–≤—ñ–¥–æ–º–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –®–Ü.`);
                 }
             }
         } else if (insights.aiUsage) {
             addInsight(insights.aiUsage, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –®–Ü.`);
         }


        // --- Learning Methods Insights ---
        const learningData = prepareLearningMethodsData(data); // Uses percentages
        if (insights.learningMethod && learningData.labels.length > 0) {
            addInsight(insights.learningMethod, `"${learningData.labels[0]}" - –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –Ω–∞–≤—á–∞–Ω–Ω—è (${learningData.data[0]}% —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤).`);
            const uniPercent = learningData.data[learningData.labels.indexOf('–£–Ω—ñ–≤–µ—Ä')] || 0;
            const coursesPercent = learningData.data[learningData.labels.indexOf('–ö—É—Ä—Å–∏')] || 0;
             const selfPercent = learningData.data[learningData.labels.indexOf('–°–∞–º–æ—Å—Ç—ñ–π–Ω–æ')] || 0;
            addInsight(insights.learningMethod, `–°–∞–º–æ—Å—Ç—ñ–π–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è (${selfPercent}%) –¥–æ–º—ñ–Ω—É—î –Ω–∞–¥ —Ñ–æ—Ä–º–∞–ª—å–Ω–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ (–£–Ω—ñ–≤–µ—Ä: ${uniPercent}%, –ö—É—Ä—Å–∏: ${coursesPercent}%).`);
            const youtubePercent = learningData.data[learningData.labels.indexOf('Youtube –¢—É—Ç–æ—Ä—ñ–∞–ª–∏')] || 0;
             addInsight(insights.learningMethod, `${youtubePercent}% –≤—á–∏–ª–∏—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Youtube —Ç—É—Ç–æ—Ä—ñ–∞–ª—ñ–≤.`);
        } else if (insights.learningMethod) {
             addInsight(insights.learningMethod, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –º–µ—Ç–æ–¥–∏ –Ω–∞–≤—á–∞–Ω–Ω—è.`);
        }

         // --- Device Insights ---
         const deviceData = prepareGenericDistributionData(data, 'device');
         if (insights.device && deviceData.labels.length > 0) {
            const androidPercent = Math.round((deviceData.data[deviceData.labels.indexOf('Android')] || 0) / totalRespondents * 100);
            const iphonePercent = Math.round((deviceData.data[deviceData.labels.indexOf('iPhone')] || 0) / totalRespondents * 100);
            addInsight(insights.device, `–†–æ–∑–ø–æ–¥—ñ–ª –æ—Å–Ω–æ–≤–Ω–∏—Ö –¥–µ–≤–∞–π—Å—ñ–≤: ${androidPercent}% Android, ${iphonePercent}% iPhone.`);
             if (androidPercent > iphonePercent) {
                 addInsight(insights.device, `Android-—Å–º–∞—Ä—Ç—Ñ–æ–Ω–∏ —Ç—Ä–æ—Ö–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ñ—à—ñ —è–∫ –æ—Å–Ω–æ–≤–Ω–∏–π –¥–µ–≤–∞–π—Å —Å–µ—Ä–µ–¥ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤.`);
             } else if (iphonePercent > androidPercent) {
                  addInsight(insights.device, `iPhone —Ç—Ä–æ—Ö–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–π —è–∫ –æ—Å–Ω–æ–≤–Ω–∏–π –¥–µ–≤–∞–π—Å —Å–µ—Ä–µ–¥ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤.`);
             }
         } else if (insights.device) {
             addInsight(insights.device, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –æ—Å–Ω–æ–≤–Ω—ñ –¥–µ–≤–∞–π—Å–∏.`);
         }

         // --- Salary by Device Insights (New) ---
         // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —ñ—Å–Ω—É—î –µ–ª–µ–º–µ–Ω—Ç –¥–ª—è —ñ–Ω—Å–∞–π—Ç—ñ–≤ –ø–µ—Ä–µ–¥ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º
         if (insights.salaryByDevice) {
             // –û–ì–û–õ–û–®–ï–ù–ù–Ø –ó–ú–Ü–ù–ù–û–á –õ–ò–®–ï –û–î–ò–ù –†–ê–ó –¢–£–¢
             const medianSalaryByDevice = calculateMedianSalaryByGroup(data, 'device');
             const androidSalary = medianSalaryByDevice['Android'];
             const iphoneSalary = medianSalaryByDevice['iPhone'];

             if (androidSalary) {
                 addInsight(insights.salaryByDevice, `–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ Android: $${androidSalary}`);
             } else {
                 addInsight(insights.salaryByDevice, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –ó–ü –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ Android.`);
             }
             if (iphoneSalary) {
                 addInsight(insights.salaryByDevice, `–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ iPhone: $${iphoneSalary}`);
             } else {
                  addInsight(insights.salaryByDevice, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –ó–ü –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ iPhone.`);
             }

             if (androidSalary && iphoneSalary) {
                 const diff = Math.abs(androidSalary - iphoneSalary);
                 const higher = androidSalary >= iphoneSalary ? 'Android' : 'iPhone'; // >= –¥–ª—è –≤–∏–ø–∞–¥–∫—É —Ä—ñ–≤–Ω–æ—Å—Ç—ñ
                 const comparisonWord = androidSalary === iphoneSalary ? '–ø—Ä–∏–±–ª–∏–∑–Ω–æ –æ–¥–Ω–∞–∫–æ–≤—ñ' : `–Ω–∞ $${diff} –≤–∏—â–µ —É –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ ${higher}`;
                 addInsight(insights.salaryByDevice, `–ú–µ–¥—ñ–∞–Ω–Ω—ñ –∑–∞—Ä–ø–ª–∞—Ç–∏ ${comparisonWord}.`);
             } else if (androidSalary || iphoneSalary) {
                 addInsight(insights.salaryByDevice, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞—Ä–ø–ª–∞—Ç –≤–ª–∞—Å–Ω–∏–∫—ñ–≤ Android —Ç–∞ iPhone.`);
             }
         }


         // --- Salary by Satisfaction Insights (New) ---
         // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —ñ—Å–Ω—É—î –µ–ª–µ–º–µ–Ω—Ç –¥–ª—è —ñ–Ω—Å–∞–π—Ç—ñ–≤ –ø–µ—Ä–µ–¥ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º
         if (insights.salaryBySatisfaction) {
            // –û–ì–û–õ–û–®–ï–ù–ù–Ø –ó–ú–Ü–ù–ù–û–á –õ–ò–®–ï –û–î–ò–ù –†–ê–ó –¢–£–¢
            const medianSalaryBySatisfaction = calculateMedianSalaryByGroup(data, 'satisfaction');

            // –ì—Ä—É–ø—É—î–º–æ –Ω–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
            const dissatisfiedSalaries = Object.entries(medianSalaryBySatisfaction)
                .filter(([key, value]) => key.startsWith('–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π') && value > 0)
                .map(([, value]) => value);

           let medianDissatisfied = 0;
           if (dissatisfiedSalaries.length > 0) {
               dissatisfiedSalaries.sort((a, b) => a - b);
               const mid = Math.floor(dissatisfiedSalaries.length / 2);
               medianDissatisfied = dissatisfiedSalaries.length % 2 !== 0
                   ? dissatisfiedSalaries[mid]
                   : (dissatisfiedSalaries[mid - 1] + dissatisfiedSalaries[mid]) / 2;
               medianDissatisfied = Math.round(medianDissatisfied);
           }

            const satisfiedSalary = medianSalaryBySatisfaction['–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞)'];

            if (satisfiedSalary) {
                addInsight(insights.salaryBySatisfaction, `–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤: $${satisfiedSalary}`);
            } else {
                 addInsight(insights.salaryBySatisfaction, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –ó–ü –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤.`);
            }

            if (medianDissatisfied > 0) {
                addInsight(insights.salaryBySatisfaction, `–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü –Ω–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ (—É—Å—ñ –ø—Ä–∏—á–∏–Ω–∏): $${medianDissatisfied}`);
            } else {
                addInsight(insights.salaryBySatisfaction, `–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –ø—Ä–æ –ó–ü –Ω–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤.`);
                // –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—é –∑–∞ –ø—Ä–∏—á–∏–Ω–∞–º–∏, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ –¥–∞–Ω—ñ —î
                 const salaryDissatisfied = medianSalaryBySatisfaction['–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–ó–ü)'];
                 const jobDissatisfied = medianSalaryBySatisfaction['–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞)'];
                 const bothDissatisfied = medianSalaryBySatisfaction['–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞ —Ç–∞ –ó–ü)'];
                 if (salaryDissatisfied) addInsight(insights.salaryBySatisfaction, `(–ó–ü: $${salaryDissatisfied})`);
                 if (jobDissatisfied) addInsight(insights.salaryBySatisfaction, `(–†–æ–±–æ—Ç–∞: $${jobDissatisfied})`);
                 if (bothDissatisfied) addInsight(insights.salaryBySatisfaction, `(–û–±–∏–¥–≤–∞: $${bothDissatisfied})`);
            }

            if (satisfiedSalary && medianDissatisfied > 0) {
                const diff = satisfiedSalary - medianDissatisfied;
                if (diff > 0) {
                    addInsight(insights.salaryBySatisfaction, `–ó–∞–¥–æ–≤–æ–ª–µ–Ω—ñ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏ –≤ —Å–µ—Ä–µ–¥–Ω—å–æ–º—É –∑–∞—Ä–æ–±–ª—è—é—Ç—å –Ω–∞ $${diff} –±—ñ–ª—å—à–µ –∑–∞ –Ω–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö.`);
                } else if (diff < 0) {
                    addInsight(insights.salaryBySatisfaction, `–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω—ñ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏ –≤ —Å–µ—Ä–µ–¥–Ω—å–æ–º—É –∑–∞—Ä–æ–±–ª—è—é—Ç—å –Ω–∞ $${Math.abs(diff)} –±—ñ–ª—å—à–µ –∑–∞ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö.`);
                } else {
                    addInsight(insights.salaryBySatisfaction, `–ú–µ–¥—ñ–∞–Ω–Ω—ñ –∑–∞—Ä–ø–ª–∞—Ç–∏ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö —Ç–∞ –Ω–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –ø—Ä–∏–±–ª–∏–∑–Ω–æ –æ–¥–Ω–∞–∫–æ–≤—ñ.`);
                }
            }
         }

     } // <--- –ö—ñ–Ω–µ—Ü—å —Ñ—É–Ω–∫—Ü—ñ—ó createInsights


      // --- Chart Creation ---
    function createChart(ctx, type, chartData, specificOptions = {}) {
        // 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
        if (!ctx) {
            console.error("Chart context is missing for chart ID:", ctx?.canvas?.id || 'unknown');
            return;
        }
        const chartId = ctx.canvas.id;

        // 2. –ó–Ω–∏—â–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –≥—Ä–∞—Ñ—ñ–∫–∞, —è–∫—â–æ –≤—ñ–Ω —ñ—Å–Ω—É—î
        if (charts[chartId]) {
            charts[chartId].destroy();
        }

        // 3. –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤ —Ç–∞ –±–∞–∑–æ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∑ CSS
        const computedStyle = getComputedStyle(document.documentElement);
        const textColor = computedStyle.getPropertyValue('--text-color');
        const gridColor = computedStyle.getPropertyValue('--chart-grid');
        const palette = [
            computedStyle.getPropertyValue('--palette-1'), // Blue
            computedStyle.getPropertyValue('--palette-2'), // Red
            computedStyle.getPropertyValue('--palette-3'), // Yellow
            computedStyle.getPropertyValue('--palette-4'), // Green
            computedStyle.getPropertyValue('--palette-5'), // Orange
            computedStyle.getPropertyValue('--palette-6'), // Darker Blue
        ];
         // –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫–∞ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–æ—Å—Ç—ñ
         const satisfactionColors = {
             '–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞)': computedStyle.getPropertyValue('--success-color'),
             '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–ó–ü)': computedStyle.getPropertyValue('--warning-color'),
             '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞)': computedStyle.getPropertyValue('--error-color'),
             '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (–†–æ–±–æ—Ç–∞ —Ç–∞ –ó–ü)': computedStyle.getPropertyValue('--error-color'), // –ú–æ–∂–Ω–∞ —ñ–Ω—à–∏–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫ —á–µ—Ä–≤–æ–Ω–æ–≥–æ
             '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (—É—Å—ñ)': computedStyle.getPropertyValue('--error-color'), // –î–ª—è –∑–≥—Ä—É–ø–æ–≤–∞–Ω–æ–≥–æ –ø–æ–∫–∞–∑–Ω–∏–∫–∞
             '–ù–µ –≤–∫–∞–∑–∞–Ω–æ': gridColor
         };

        // 4. –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É –¥–∞–Ω–∏—Ö (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —á–∏ XY –¥–ª—è –∫–æ—Ä–µ–ª—è—Ü—ñ—ó)
        let datasets;
        let labels = chartData.labels; // –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –±–µ—Ä–µ–º–æ –∑ chartData

        // –î–ª—è –∫–æ—Ä–µ–ª—è—Ü—ñ–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ—ñ–∫–∞ (Line chart –∑ XY –¥–∞–Ω–∏–º–∏)
        if (chartId === 'correlationChart' && Array.isArray(chartData) && chartData.length > 0 && chartData[0].hasOwnProperty('x')) {
            labels = chartData.map(p => p.x); // –ú—ñ—Ç–∫–∏ –±–µ—Ä—É—Ç—å—Å—è –∑ X –∑–Ω–∞—á–µ–Ω—å
            datasets = [{
                label: specificOptions.datasetLabel || '–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–∞—Ä–ø–ª–∞—Ç–∞ ($)',
                data: chartData, // –î–∞–Ω—ñ –≤–∂–µ —É —Ñ–æ—Ä–º–∞—Ç—ñ {x, y}
                borderColor: palette[0],
                backgroundColor: palette[0], // –î–ª—è —Ç–æ—á–∫–∏
                borderWidth: 2,
                fill: false,
                tension: 0.1
            }];
        }
        // –î–ª—è –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ (–æ—á—ñ–∫—É—î—Ç—å—Å—è —Ñ–æ—Ä–º–∞—Ç { labels: [], data: [] })
        else if (chartData && chartData.labels && chartData.data) {
            let backgroundColors;

             // –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –∞–±–æ —Ç–∏–ø—ñ–≤
             if (chartId === 'satisfactionChart') {
                backgroundColors = chartData.labels.map(label => satisfactionColors[label] || gridColor);
             } else if (type === 'pie' || type === 'doughnut') {
                backgroundColors = palette;
             } else { // bar, line (–Ω–µ –∫–æ—Ä–µ–ª—è—Ü—ñ–π–Ω–∏–π)
                backgroundColors = palette[0]; // –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–ª—ñ—Ä –¥–ª—è —Å—Ç–æ–≤–ø—á–∏–∫—ñ–≤/–ª—ñ–Ω—ñ–π
             }

             datasets = [{
                 label: specificOptions.datasetLabel || '–ö—ñ–ª—å–∫—ñ—Å—Ç—å',
                 data: chartData.data,
                 backgroundColor: backgroundColors,
                  // –î–æ–¥–∞—î–º–æ —Ä–∞–º–∫—É –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –≤–∏–≥–ª—è–¥—É, –æ—Å–æ–±–ª–∏–≤–æ –Ω–∞ Pie/Doughnut
                  borderColor: (type === 'pie' || type === 'doughnut')
                     ? computedStyle.getPropertyValue('--card-bg') // –ö–æ–ª—ñ—Ä —Ñ–æ–Ω—É –∫–∞—Ä—Ç–∫–∏ –¥–ª—è —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —Å–µ–∫—Ç–æ—Ä—ñ–≤
                     : (type === 'bar' ? backgroundColors : palette[0]), // –î–ª—è –±–∞—Ä—ñ–≤ - —Ç–æ–π —Å–∞–º–∏–π –∫–æ–ª—ñ—Ä, –¥–ª—è –ª—ñ–Ω—ñ—ó - —Ç–µ–∂
                  borderWidth: (type === 'pie' || type === 'doughnut') ? 2 : 1.5, // –¢–æ–≤—â–∏–Ω–∞ —Ä–∞–º–∫–∏
                  ...(type === 'line' && { fill: false }) // –ù–µ –∑–∞–ª–∏–≤–∞—Ç–∏ –ø—ñ–¥ –ª—ñ–Ω—ñ—î—é
             }];
        } else {
            console.error("Invalid chart data provided for chart ID:", chartId, chartData);
            // –ú–æ–∂–Ω–∞ –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞ –º—ñ—Å—Ü—ñ –≥—Ä–∞—Ñ—ñ–∫–∞
            ctx.canvas.parentElement.innerHTML = `<p style="text-align: center; margin-top: 50px; color: ${textColor};">–ü–æ–º–∏–ª–∫–∞: –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫–∞.</p>`;
            return; // –ó—É–ø–∏–Ω—è—î–º–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫–∞
        }

        // 5. –§–æ—Ä–º—É–≤–∞–Ω–Ω—è –æ–ø—Ü—ñ–π –≥—Ä–∞—Ñ—ñ–∫–∞
        const defaultOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    // –ü–æ–∫–∞–∑—É—î–º–æ –ª–µ–≥–µ–Ω–¥—É –¥–ª—è –∫—Ä—É–≥–æ–≤–∏—Ö –¥—ñ–∞–≥—Ä–∞–º —Ç–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤
                    display: (type === 'pie' || type === 'doughnut'),
                    position: 'bottom',
                    labels: {
                        color: textColor,
                        padding: 15,
                        boxWidth: 12,
                        font: { size: 11 }
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(0,0,0,0.75)',
                    titleColor: '#ffffff',
                    bodyColor: '#ffffff',
                    padding: 10,
                    cornerRadius: 5,
                    callbacks: {} // –ó–∞–ª–∏—à–∞—î–º–æ –º—ñ—Å—Ü–µ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö –∫–æ–ª–±–µ–∫—ñ–≤
                }
            },
            scales: {} // –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º - –ø–æ—Ä–æ–∂–Ω—ñ–π –æ–±'—î–∫—Ç
        };

        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ—Å–µ–π –¥–ª—è Bar —Ç–∞ Line –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
        if (type === 'bar' || type === 'line') {
             defaultOptions.scales = {
                x: {
                     grid: { display: false, color: gridColor },
                     ticks: { color: textColor, maxRotation: 45, minRotation: 0 }, // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–æ–≤–æ—Ä–æ—Ç –º—ñ—Ç–æ–∫, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
                     ...(chartId === 'correlationChart' && { type: 'category', labels: labels }) // –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ –¥–ª—è –∫–æ—Ä–µ–ª—è—Ü—ñ—ó
                 },
                 y: {
                     beginAtZero: true, // –ë—ñ–ª—å—à—ñ—Å—Ç—å –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ 0
                     grid: { color: gridColor },
                     ticks: { color: textColor }
                 }
            };

            // –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ—Å—ñ Y –¥–ª—è –∑–∞—Ä–ø–ª–∞—Ç–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
             if (['correlationChart', 'salaryByDeviceChart', 'salaryBySatisfactionChart'].includes(chartId)) {
                defaultOptions.scales.y.beginAtZero = false; // –ó–∞—Ä–ø–ª–∞—Ç–∞ –Ω–µ –∑–∞–≤–∂–¥–∏ –∑ 0
                defaultOptions.scales.y.ticks.callback = function(value) { return '$' + value; };
                // –î–æ–¥–∞—î–º–æ $ –¥–æ —Ç—É–ª—Ç—ñ–ø–∞ –¥–ª—è —Ü–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
                 defaultOptions.plugins.tooltip.callbacks.label = function(context) {
                     let label = context.dataset.label || '';
                     if (label) { label += ': '; }
                     label += '$' + context.parsed.y;
                     return label;
                 };
            }

             // –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ—Å—ñ X –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫–∞ –º–µ—Ç–æ–¥—ñ–≤ –Ω–∞–≤—á–∞–Ω–Ω—è (%)
             if (chartId === 'learningMethodChart') {
                defaultOptions.indexAxis = 'y'; // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ –±–∞—Ä–∏
                 defaultOptions.scales.x.ticks.callback = function(value) { return value + "%"; };
                 defaultOptions.plugins.tooltip.callbacks.label = function(context) {
                      let label = context.dataset.label || '';
                      if (label) { label += ': '; }
                      label += context.parsed.x + '%'; // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ parsed.x –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏—Ö –±–∞—Ä—ñ–≤
                      return label;
                 };
                 // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –æ—Å—ñ Y –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–æ–≤–≥–∏—Ö –Ω–∞–∑–≤ –º–µ—Ç–æ–¥—ñ–≤
                 defaultOptions.scales.y.ticks.font = { size: 10 }; // –ú–µ–Ω—à–∏–π —à—Ä–∏—Ñ—Ç
                 defaultOptions.scales.y.ticks.autoSkip = false; // –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –≤—Å—ñ –º—ñ—Ç–∫–∏
             }

             // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –∑–≤–∏—á–∞–π–Ω–æ–≥–æ Line –≥—Ä–∞—Ñ—ñ–∫–∞ (—è–∫—â–æ –±—É–¥–µ)
             if (type === 'line' && chartId !== 'correlationChart') {
                  defaultOptions.elements = { line: { tension: 0.1 } };
             }
        }

        // 6. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Ç–∞ –Ω–æ–≤–æ–≥–æ –≥—Ä–∞—Ñ—ñ–∫–∞
        const chartConfig = {
             type: type,
             data: {
                 labels: labels, // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ —Ä–∞–Ω—ñ—à–µ –º—ñ—Ç–∫–∏
                 datasets: datasets
             },
            // –û–±'—î–¥–Ω—É—î–º–æ –±–∞–∑–æ–≤—ñ —Ç–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –æ–ø—Ü—ñ—ó (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—é—Ç—å –±–∞–∑–æ–≤—ñ)
            options: { ...defaultOptions, ...specificOptions }
        };

        // –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≥—Ä–∞—Ñ—ñ–∫
        try {
             charts[chartId] = new Chart(ctx, chartConfig);
        } catch (error) {
            console.error("Error creating chart:", chartId, error);
             ctx.canvas.parentElement.innerHTML = `<p style="text-align: center; margin-top: 50px; color: ${textColor};">–ü–æ–º–∏–ª–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫–∞.</p>`;
        }
    }
  

    function createAllCharts(processedData) {
        // --- Experience Chart ---
        const experienceCtx = document.getElementById('experienceChart')?.getContext('2d');
        if (experienceCtx) {
            const experienceChartData = prepareExperienceData(processedData);
            if (experienceChartData.data.some(d => d > 0)) { // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ —î –¥–∞–Ω—ñ
                 createChart(experienceCtx, 'bar', experienceChartData, { datasetLabel: '–†–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤' });
            } else {
                experienceCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- Salary Chart ---
        const salaryCtx = document.getElementById('salaryChart')?.getContext('2d');
        if (salaryCtx) {
            const salaryChartData = prepareSalaryData(processedData);
             if (salaryChartData.data.some(d => d > 0)) {
                createChart(salaryCtx, 'bar', salaryChartData, { datasetLabel: '–†–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤'});
            } else {
                salaryCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- Tech Chart ---
        const techCtx = document.getElementById('techChart')?.getContext('2d');
        if (techCtx) {
            const techChartData = prepareTechData(processedData);
             if (techChartData.data.some(d => d > 0)) {
                createChart(techCtx, 'doughnut', techChartData, { datasetLabel: '–ó–≥–∞–¥–æ–∫'});
            } else {
                 techCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- Correlation Chart (Salary vs Experience) ---
        const correlationCtx = document.getElementById('correlationChart')?.getContext('2d');
        if (correlationCtx) {
            const correlationChartData = prepareCorrelationData(processedData);
            // –î–ª—è line chart —Ç—Ä–µ–±–∞ —Ö–æ—á–∞ –± 2 —Ç–æ—á–∫–∏
            if (correlationChartData.length >= 2) {
                // –ü–µ—Ä–µ–¥–∞—î–º–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –º–∞—Å–∏–≤ {x, y} —Ç–æ—á–æ–∫
                createChart(correlationCtx, 'line', correlationChartData, { datasetLabel: '–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–∞—Ä–ø–ª–∞—Ç–∞ ($)' });
            } else {
                correlationCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –∫–æ—Ä–µ–ª—è—Ü—ñ—ó.</p>';
            }
        }

        // --- Work Sphere Chart ---
        const workSphereCtx = document.getElementById('workSphereChart')?.getContext('2d');
        if (workSphereCtx) {
            const workSphereChartData = prepareGenericDistributionData(processedData, 'workSphere');
             if (workSphereChartData.data.some(d => d > 0)) {
                 createChart(workSphereCtx, 'pie', workSphereChartData, { datasetLabel: '–†–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤'});
            } else {
                 workSphereCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- OS Chart ---
        const osCtx = document.getElementById('osChart')?.getContext('2d');
        if (osCtx) {
            const osChartData = prepareGenericDistributionData(processedData, 'os');
            if (osChartData.data.some(d => d > 0)) {
                 createChart(osCtx, 'pie', osChartData, { datasetLabel: '–†–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤'});
            } else {
                 osCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- Satisfaction Chart ---
        const satisfactionCtx = document.getElementById('satisfactionChart')?.getContext('2d');
        if (satisfactionCtx) {
            const satisfactionChartData = prepareGenericDistributionData(processedData, 'satisfaction');
             if (satisfactionChartData.data.some(d => d > 0)) {
                // –ü–µ—Ä–µ–¥–∞—î–º–æ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π datasetLabel, —Ö–æ—á–∞ createChart –º–æ–∂–µ –º–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –¥–ª—è –∫–æ–ª—å–æ—Ä—ñ–≤ –∑–∞ ID
                createChart(satisfactionCtx, 'doughnut', satisfactionChartData, { datasetLabel: '–†–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤'});
            } else {
                 satisfactionCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- AI Usage Chart ---
        const aiUsageCtx = document.getElementById('aiUsageChart')?.getContext('2d');
        if (aiUsageCtx) {
            // –ì–æ—Ç—É—î–º–æ –¥–∞–Ω—ñ —Ç–∞ —Å–æ—Ä—Ç—É—î–º–æ —ó—Ö –∑–∞ –ª–æ–≥—ñ—á–Ω–∏–º –ø–æ—Ä—è–¥–∫–æ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
            const aiUsageDistribution = prepareGenericDistributionData(processedData, 'aiUsage');
             if (aiUsageDistribution.data.some(d => d > 0)) {
                 const aiOrder = ['–í–µ—Å—å —á–∞—Å', '–ë–∞–≥–∞—Ç–æ', '–¢—Ä–æ—Ö–∏', '–ù–µ –∫–æ—Ä–∏—Å—Ç—É—é—Å—è (–•–µ–π—Ç–µ—Ä)', '–ù–µ –≤–∫–∞–∑–∞–Ω–æ'];
                 // –°–æ—Ä—Ç—É—î–º–æ –º—ñ—Ç–∫–∏ –∑–≥—ñ–¥–Ω–æ –∑ –ø–æ—Ä—è–¥–∫–æ–º
                 aiUsageDistribution.labels.sort((a, b) => {
                     const indexA = aiOrder.indexOf(a);
                     const indexB = aiOrder.indexOf(b);
                     if (indexA === -1) return 1;
                     if (indexB === -1) return -1;
                     return indexA - indexB;
                 });
                 // –ü–µ—Ä–µ–±—É–¥–æ–≤—É—î–º–æ –º–∞—Å–∏–≤ –¥–∞–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –º—ñ—Ç–æ–∫
                 const originalCounts = prepareGenericDistributionData(processedData, 'aiUsage'); // –û—Ç—Ä–∏–º—É—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ —â–µ —Ä–∞–∑ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å
                 const sortedAIData = aiUsageDistribution.labels.map(label => {
                     const originalIndex = originalCounts.labels.indexOf(label);
                     return originalIndex !== -1 ? originalCounts.data[originalIndex] : 0;
                 });
                 const sortedAIChartData = { labels: aiUsageDistribution.labels, data: sortedAIData };

                 createChart(aiUsageCtx, 'bar', sortedAIChartData, { datasetLabel: '–†–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤'});
            } else {
                 aiUsageCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- Learning Method Chart ---
        const learningMethodCtx = document.getElementById('learningMethodChart')?.getContext('2d');
        if (learningMethodCtx) {
            const learningMethodChartData = prepareLearningMethodsData(processedData); // –ü–æ–≤–µ—Ä—Ç–∞—î %
             if (learningMethodChartData.data.some(d => d > 0)) {
                // –ü–µ—Ä–µ–¥–∞—î–º–æ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –æ–ø—Ü—ñ—ó –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏—Ö –±–∞—Ä—ñ–≤ —Ç–∞ % –≤ createChart
                createChart(learningMethodCtx, 'bar', learningMethodChartData, { datasetLabel: '% —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤'});
            } else {
                 learningMethodCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- Device Chart ---
        const deviceCtx = document.getElementById('deviceChart')?.getContext('2d');
        if (deviceCtx) {
            const deviceChartData = prepareGenericDistributionData(processedData, 'device');
             if (deviceChartData.data.some(d => d > 0)) {
                 createChart(deviceCtx, 'pie', deviceChartData, { datasetLabel: '–†–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤'});
            } else {
                 deviceCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö.</p>';
            }
        }

        // --- Salary by Device Chart (New) ---
        const salaryByDeviceCtx = document.getElementById('salaryByDeviceChart')?.getContext('2d');
        if (salaryByDeviceCtx) {
            const medianSalaryByDevice = calculateMedianSalaryByGroup(processedData, 'device');
            const deviceSalaryChartData = prepareSalaryComparisonChartData({
                'Android': medianSalaryByDevice['Android'] || 0,
                'iPhone': medianSalaryByDevice['iPhone'] || 0
            }, ['Android', 'iPhone']); // –Ø–≤–Ω–æ –∑–∞–¥–∞—î–º–æ –ø–æ—Ä—è–¥–æ–∫ —Å—Ç–æ–≤–ø—Ü—ñ–≤

             // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Ö–æ—á–∞ –± –æ–¥–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –±—ñ–ª—å—à–µ 0
            if (deviceSalaryChartData.data.some(d => d > 0)) {
                // –ü–µ—Ä–µ–¥–∞—î–º–æ –æ–ø—Ü—ñ—ó –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –æ—Å—ñ Y ($) –≤ createChart
                createChart(salaryByDeviceCtx, 'bar', deviceSalaryChartData, { datasetLabel: '–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü ($)' });
            } else {
                salaryByDeviceCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞—Ä–ø–ª–∞—Ç –∑–∞ –¥–µ–≤–∞–π—Å–æ–º.</p>';
            }
        }

        // --- Salary by Satisfaction Chart (New) ---
        const salaryBySatisfactionCtx = document.getElementById('salaryBySatisfactionChart')?.getContext('2d');
        if (salaryBySatisfactionCtx) {
            const medianSalaryBySatisfaction = calculateMedianSalaryByGroup(processedData, 'satisfaction');
             // –ó–≥—Ä—É–ø—É—î–º–æ –Ω–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏—Ö –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫–∞, —è–∫ —ñ –≤ —ñ–Ω—Å–∞–π—Ç–∞—Ö
             const dissatisfiedSalariesForChart = Object.entries(medianSalaryBySatisfaction)
                 .filter(([key, value]) => key.startsWith('–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π') && value > 0)
                 .map(([, value]) => value);
            let medianDissatisfiedForChart = 0;
             if (dissatisfiedSalariesForChart.length > 0) {
                 dissatisfiedSalariesForChart.sort((a, b) => a - b);
                 const mid = Math.floor(dissatisfiedSalariesForChart.length / 2);
                 medianDissatisfiedForChart = dissatisfiedSalariesForChart.length % 2 !== 0
                     ? dissatisfiedSalariesForChart[mid]
                     : (dissatisfiedSalariesForChart[mid - 1] + dissatisfiedSalariesForChart[mid]) / 2;
                 medianDissatisfiedForChart = Math.round(medianDissatisfiedForChart);
             }

            const satisfactionSalaryChartData = prepareSalaryComparisonChartData({
                '–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞)': medianSalaryBySatisfaction['–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞)'] || 0,
                '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (—É—Å—ñ)': medianDissatisfiedForChart
            }, ['–ó–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞)', '–ù–µ–∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π(–∞) (—É—Å—ñ)']); // –ó–∞–¥–∞—î–º–æ –ø–æ—Ä—è–¥–æ–∫

             // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —Ö–æ—á–∞ –± –æ–¥–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –±—ñ–ª—å—à–µ 0
             if (satisfactionSalaryChartData.data.some(d => d > 0)) {
                 // –ü–µ—Ä–µ–¥–∞—î–º–æ –æ–ø—Ü—ñ—ó –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –æ—Å—ñ Y ($) –≤ createChart
                 createChart(salaryBySatisfactionCtx, 'bar', satisfactionSalaryChartData, { datasetLabel: '–ú–µ–¥—ñ–∞–Ω–Ω–∞ –ó–ü ($)' });
            } else {
                 salaryBySatisfactionCtx.canvas.parentElement.innerHTML = '<p class="chart-nodata">–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞—Ä–ø–ª–∞—Ç –∑–∞ –∑–∞–¥–æ–≤–æ–ª–µ–Ω—ñ—Å—Ç—é.</p>';
            }
        }

        // –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Ü—è —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –í–°–Ü–• –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
        updateChartColors();

        // –î–æ–¥–∞–º–æ —Å—Ç–∏–ª—å –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö
        const noDataStyle = document.createElement('style');
        noDataStyle.textContent = `
            .chart-nodata {
                text-align: center;
                margin-top: 40%; /* –¶–µ–Ω—Ç—Ä—É–≤–∞–Ω–Ω—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—ñ –ø—Ä–∏–±–ª–∏–∑–Ω–æ */
                color: var(--text-color);
                opacity: 0.7;
                font-style: italic;
            }
        `;
        document.head.appendChild(noDataStyle);
    }


    // --- Initialization ---
    document.addEventListener('DOMContentLoaded', () => {
        // Set initial theme
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(savedTheme || (prefersDark ? 'dark' : 'light'));

        // Show loading indicator
        document.getElementById('loading').style.display = 'block';
        document.getElementById('dashboard').style.display = 'none'; // Keep dashboard hidden

        // Get embedded CSV data
        const csvDataElement = document.getElementById('csvDataScript');
        if (!csvDataElement || !csvDataElement.textContent) {
             showError("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–Ω–∞–π—Ç–∏ –≤–±—É–¥–æ–≤–∞–Ω—ñ CSV –¥–∞–Ω—ñ.");
             return;
        }
        const csvData = csvDataElement.textContent;

        // Use setTimeout to allow the loading indicator to render before parsing starts
        setTimeout(() => {
            try {
                Papa.parse(csvData, {
                    header: true,
                    skipEmptyLines: true,
                    complete: function(results) {
                        if (results.errors.length > 0) {
                             // Try to provide more specific error info
                             let errorMsg = `–ü–æ–º–∏–ª–∫–∞ —Ä–æ–∑–±–æ—Ä—É CSV: ${results.errors[0].message}.`;
                             if(results.errors[0].row) errorMsg += ` –†—è–¥–æ–∫: ${results.errors[0].row + 1}.`; // PapaParse row index is 0-based
                             console.error("PapaParse Errors:", results.errors);
                             showError(errorMsg);
                             return;
                        }

                        if (!results.data || results.data.length === 0) {
                            showError('CSV –¥–∞–Ω—ñ –ø–æ—Ä–æ–∂–Ω—ñ –∞–±–æ –º–∞—é—Ç—å –Ω–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç.');
                            return;
                        }

                        // Check for essential columns
                        const expectedHeaders = Object.values(COLUMN_MAPPING);
                        const actualHeaders = results.meta.fields;
                        const missingHeaders = expectedHeaders.filter(h => !actualHeaders.includes(h));
                        if(missingHeaders.length > 0) {
                           console.warn("–í—ñ–¥—Å—É—Ç–Ω—ñ –æ—á—ñ–∫—É–≤–∞–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏:", missingHeaders);
                           // Don't necessarily fail, parsing functions might handle missing data
                           // showError(`–í—ñ–¥—Å—É—Ç–Ω—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–ª–æ–Ω–∫–∏ –≤ CSV: ${missingHeaders.join(', ')}`);
                           // return;
                        }

                        surveyData = processSurveyData(results.data);

                        if (surveyData.length > 0) {
                            hideError();
                            createInsights(surveyData);
                            createAllCharts(surveyData);
                            // Show dashboard with fade-in effect
                            const dashboard = document.getElementById('dashboard');
                            dashboard.style.display = 'grid';
                            setTimeout(() => dashboard.classList.add('visible'), 50); // Small delay for transition
                        } else if (!document.getElementById('errorMessage').style.display || document.getElementById('errorMessage').style.display === 'none') {
                            // If processSurveyData filtered everything out but didn't explicitly show an error
                            showError("–ù–µ –≤–¥–∞–ª–æ—Å—è –æ–±—Ä–æ–±–∏—Ç–∏ –¥–∞–Ω—ñ. –ú–æ–∂–ª–∏–≤–æ, —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö –Ω–µ–≤—ñ—Ä–Ω–∏–π.");
                        }
                        document.getElementById('loading').style.display = 'none'; // Hide loading indicator
                    },
                    error: function(error) {
                         console.error("PapaParse File Read Error:", error);
                         showError('–ö—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ CSV –¥–∞–Ω–∏—Ö: ' + error.message);
                    }
                });
            } catch (error) {
                 console.error("General Error during init:", error);
                 showError('–í–∏–Ω–∏–∫–ª–∞ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó: ' + error.message);
            }
         }, 50); // 50ms delay
    });

  </script>

</body>
</html>
